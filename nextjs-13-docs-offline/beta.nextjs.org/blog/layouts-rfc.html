<!DOCTYPE html><html lang="en">
<!-- Mirrored from beta.nextjs.org/blog/layouts-rfc by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 02 Mar 2023 18:26:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Blog - Layouts RFC | Next.js</title><link href="layouts-rfc" rel="canonical"/><meta content="@vercel" name="twitter:site"/><meta content="summary_large_image" name="twitter:card"/><meta content="Layouts RFC" property="og:title"/><meta content="https://nextjs.org/blog/layouts-rfc" property="og:url"/><meta content="Nested routes and layouts, client and server routing, React 18 features, and designed for Server Components." name="description"/><meta content="Nested routes and layouts, client and server routing, React 18 features, and designed for Server Components." property="og:description"/><meta content="https://beta.nextjs.org/static/blog/layouts-rfc/twitter-card.png" property="og:image"/><meta name="next-head-count" content="11"/><link as="font" crossorigin="anonymous" href="https://assets.vercel.com/raw/upload/v1660068731/fonts/4/Inter.var.latin.woff2" rel="preload" type="font/woff2"/><link href="../static/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="../static/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="../static/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="../static/favicon/site.webmanifest" rel="manifest"/><link color="#000000" href="../static/favicon/safari-pinned-tab.svg" rel="mask-icon"/><link href="../static/favicon/favicon.ico" rel="shortcut icon"/><meta content="#000000" name="msapplication-TileColor"/><meta content="/static/favicon/browserconfig.xml" name="msapplication-config"/><meta content="#fff" name="theme-color"/><link href="../feed.xml" rel="alternate" type="application/rss+xml"/><meta content="max-snippet:-1, max-image-preview:large, max-video-preview:-1" name="robots"/><script id="viewport-height" data-nscript="beforeInteractive">
            function calcVh() { document.documentElement.style.setProperty('--100vh', window.innerHeight + 'px'); };
            window.addEventListener('resize', calcVh);
            calcVh();
            setTimeout(() => calcVh(), 50);</script><link rel="preload" href="../_next/static/css/ec65da664ea2a9ff.css" as="style"/><link rel="stylesheet" href="../_next/static/css/ec65da664ea2a9ff.css" data-n-g=""/><link rel="preload" href="../_next/static/css/e1e82b2c440d1b18.css" as="style"/><link rel="stylesheet" href="../_next/static/css/e1e82b2c440d1b18.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="../_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="../_next/static/chunks/webpack-1278bae6f8c09af0.js" defer=""></script><script src="../_next/static/chunks/framework-7e2210a590393fbb.js" defer=""></script><script src="../_next/static/chunks/main-6585fbf753c073b0.js" defer=""></script><script src="../_next/static/chunks/pages/_app-e5cd0e8398f86bbf.js" defer=""></script><script src="../_next/static/chunks/8149-21ee2b33dad69b44.js" defer=""></script><script src="../_next/static/chunks/2149-72ec932f051e3bb0.js" defer=""></script><script src="../_next/static/chunks/2041-a1153c6c305c5fe1.js" defer=""></script><script src="../_next/static/chunks/2710-6fff41d57b4b882f.js" defer=""></script><script src="../_next/static/chunks/1286-1a941c6bf58dc428.js" defer=""></script><script src="../_next/static/chunks/4847-fbead67fb72c6559.js" defer=""></script><script src="../_next/static/chunks/3042-55ecb7d70f3ff190.js" defer=""></script><script src="../_next/static/chunks/1697-a2a4d86c8e65f960.js" defer=""></script><script src="../_next/static/chunks/pages/blog/layouts-rfc-f9fe367146acf36c.js" defer=""></script><script src="../_next/static/ZvwCelwX7zUhFIgbFwG9t/_buildManifest.js" defer=""></script><script src="../_next/static/ZvwCelwX7zUhFIgbFwG9t/_ssgManifest.js" defer=""></script><style id="__jsx-c3a6861ac26fec0d">#nprogress{pointer-events:none}#nprogress .bar{background:#0070f3;position:fixed;z-index:1031;top:0;left:0;width:100%;height:2px}@-webkit-keyframes gradient-rotation{0%{background-position:0 0}100%{background-position:100vw 0}}@-moz-keyframes gradient-rotation{0%{background-position:0 0}100%{background-position:100vw 0}}@-o-keyframes gradient-rotation{0%{background-position:0 0}100%{background-position:100vw 0}}@keyframes gradient-rotation{0%{background-position:0 0}100%{background-position:100vw 0}}</style><style id="__jsx-afac35586e50539d">.banner.jsx-afac35586e50539d{width:100%;background:var(--geist-background);color:#fff;height:50px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.inner.jsx-afac35586e50539d{width:100%;max-width:1440px;margin:0 auto;padding:0 2rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.mobile-inner.jsx-afac35586e50539d{width:100%;margin:0 auto;padding:0 1rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;display:none}a.jsx-afac35586e50539d{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex}p.jsx-afac35586e50539d{color:#fff;margin:0;-webkit-transition:color.15s ease;-moz-transition:color.15s ease;-o-transition:color.15s ease;transition:color.15s ease}@media(max-width:640px){.inner.jsx-afac35586e50539d{padding:0 1rem;display:none}.mobile-inner.jsx-afac35586e50539d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}p.jsx-afac35586e50539d{font-size:14px}}</style><style id="__jsx-1717418763">div.jsx-1717418763{width:100%;margin:0 auto;padding:0 2rem;
            max-width: 1440px;
            
            text-align: center;
            
            
            
            
            
            
            
            
            
            
          }div.jsx-1717418763:after{content:"";display:table;clear:both}@media screen and (max-width:960px){div.jsx-1717418763{padding:0 2rem;
            }}@media screen and (max-width:640px){div.jsx-1717418763{padding:0 1rem;
            }}</style><style id="__jsx-71f61fd80a7be62a">.btn.jsx-71f61fd80a7be62a{position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;text-decoration:none;padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px;color:var(--geist-foreground);background-color:transparent;border:none;font-size:inherit;line-height:inherit;-webkit-transition:background.2s ease,color.2s ease,box-shadow.2s ease;-moz-transition:background.2s ease,color.2s ease,box-shadow.2s ease;-o-transition:background.2s ease,color.2s ease,box-shadow.2s ease;transition:background.2s ease,color.2s ease,box-shadow.2s ease;outline:none}.btn.jsx-71f61fd80a7be62a:hover{color:var(--geist-foreground);background:var(--accents-7)}.btn.invert.jsx-71f61fd80a7be62a{margin:0;padding:0 3.5rem;height:2.81rem;line-height:2.8rem;-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px;background-color:#0070f3;-webkit-box-shadow:0 4px 14px 0 rgba(0,118,255,.39);-moz-box-shadow:0 4px 14px 0 rgba(0,118,255,.39);box-shadow:0 4px 14px 0 rgba(0,118,255,.39);color:white}.btn.invert.jsx-71f61fd80a7be62a:hover{background:#0070f3;-webkit-box-shadow:0 6px 20px rgba(0,118,255,.23);-moz-box-shadow:0 6px 20px rgba(0,118,255,.23);box-shadow:0 6px 20px rgba(0,118,255,.23)}.btn.invert.jsx-71f61fd80a7be62a:active{background:#006ae6}.btn.invert.outline.jsx-71f61fd80a7be62a{background:#fff;color:#696969;-webkit-box-shadow:0 4px 14px 0 rgba(0,0,0,.1);-moz-box-shadow:0 4px 14px 0 rgba(0,0,0,.1);box-shadow:0 4px 14px 0 rgba(0,0,0,.1)}.btn.invert.outline.jsx-71f61fd80a7be62a:hover{background:rgba(255,255,255,.9);-webkit-box-shadow:0 6px 20px rgba(93,93,93,.23);-moz-box-shadow:0 6px 20px rgba(93,93,93,.23);box-shadow:0 6px 20px rgba(93,93,93,.23)}.btn.small.jsx-71f61fd80a7be62a{font-size:.875rem;height:1.5rem;padding:0 .75rem;line-height:inherit;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}.btn.loading.jsx-71f61fd80a7be62a{background:#fafafa;color:#888;border:1px solid#000;border-color:#eaeaea;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;cursor:default;pointer-events:none}.btn.loading.jsx-71f61fd80a7be62a>.text.jsx-71f61fd80a7be62a{visibility:hidden}.btn.jsx-71f61fd80a7be62a>.loading-dots.jsx-71f61fd80a7be62a{position:absolute}</style><style id="__jsx-923002">div.jsx-923002{width:100%;margin:0 auto;padding:0 2rem;max-width: 1024px;
            
            
            
            
            
            
            
            
            
            
            
            
            
          }div.jsx-923002:after{content:"";display:table;clear:both}@media screen and (max-width:960px){div.jsx-923002{padding:0 2rem;
            }}@media screen and (max-width:640px){div.jsx-923002{padding:0 1rem;
            }}</style><style id="__jsx-730780046">div.jsx-730780046{width:100%;margin:0 auto;padding:0 0;max-width: 1024px;
            
            max-width: 768px;
            
            
            
            
            
            
            
            
            
            
            
          }div.jsx-730780046:after{content:"";display:table;clear:both}@media screen and (max-width:960px){div.jsx-730780046{padding:0 0;
            }}@media screen and (max-width:640px){div.jsx-730780046{padding:0 0;
            }}</style><style id="__jsx-3304e3efe243f919">p.jsx-3304e3efe243f919{line-height:1.8;margin-bottom:1.5rem}</style><style id="__jsx-4a968599aec3e5ec">li.jsx-4a968599aec3e5ec:before{content:"-";display:inline-block;color:#6d6d6d;position:absolute;margin-left:-25px}li.jsx-4a968599aec3e5ec{margin-bottom:.35rem}</style><style id="__jsx-e5559e759ae9b1d2">ul.jsx-e5559e759ae9b1d2{list-style:none;margin-bottom:2rem}</style><style id="__jsx-e1a61cccdd3dcd9d">a.jsx-e1a61cccdd3dcd9d{text-decoration:none;font-size:inherit}</style><style id="__jsx-bf07d7d2d6ef646b">blockquote.jsx-bf07d7d2d6ef646b{margin:2rem 0;padding:1rem 1.25rem;background:#f7f7f7}blockquote.jsx-bf07d7d2d6ef646b p{margin:0}blockquote.jsx-bf07d7d2d6ef646b pre{background:white}</style><style id="__jsx-b357a4faf5484e2">a.jsx-b357a4faf5484e2{color:inherit}a.jsx-b357a4faf5484e2:hover{color:inherit;border-bottom:1px dotted}h1[data-components-heading] a.jsx-b357a4faf5484e2::before{content:"# "}h2[data-components-heading] a.jsx-b357a4faf5484e2::before{content:"## "}h3[data-components-heading] a.jsx-b357a4faf5484e2::before{content:"### "}.lean[data-components-heading] a.jsx-b357a4faf5484e2::before{content:""}h1[data-components-heading]::before,h2[data-components-heading]::before,h3[data-components-heading]::before,h4[data-components-heading]::before{display:none}h3[data-components-heading]{border-top:1px solid#f3f3f3;padding-top:2rem}.target.jsx-b357a4faf5484e2{display:block;margin-top:-160px;padding-top:160px;visibility:hidden;position:absolute}.permalink.jsx-b357a4faf5484e2{text-align:center;vertical-align:middle;visibility:hidden;display:none}a.jsx-b357a4faf5484e2:hover~.permalink.jsx-b357a4faf5484e2{visibility:visible}@media(min-width:992px){a.jsx-b357a4faf5484e2{margin-right:10px}.permalink.jsx-b357a4faf5484e2{display:inline-block}}</style><style id="__jsx-40c4e60c5843ba9c">h2.jsx-40c4e60c5843ba9c{margin-top:2.5rem}</style><style id="__jsx-82a75d5e4b0ba330">a.jsx-82a75d5e4b0ba330{color:inherit;font-size:inherit;border-bottom:1px dotted}a.jsx-82a75d5e4b0ba330:hover{color:gray;text-decoration:none}</style><style id="__jsx-eca01b89ea5fd04">code.jsx-eca01b89ea5fd04{font-size:.9em;--vertical-spacing:1px;color:var(--geist-foreground);font-family:var(--font-mono);white-space:pre-wrap;word-break:break-word;padding:var(--vertical-spacing)2px;margin:-webkit-calc(-1*var(--vertical-spacing))0;margin:-moz-calc(-1*var(--vertical-spacing))0;margin:calc(-1*var(--vertical-spacing))0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background:var(--accents-1);border:1px solid var(--accents-2)}code.no-wrap.jsx-eca01b89ea5fd04{white-space:nowrap}h2 code.jsx-eca01b89ea5fd04,h3 code.jsx-eca01b89ea5fd04,h4 code.jsx-eca01b89ea5fd04,h5 code.jsx-eca01b89ea5fd04{font-size:unset}</style><style id="__jsx-d4cfbafdc3f90989">h3.jsx-d4cfbafdc3f90989{margin-top:2rem}</style><style id="__jsx-dfa1f33e090e0436">pre.jsx-dfa1f33e090e0436{background:#1d1f21;color:#f8f8f2;white-space:pre;overflow:auto;padding:1.5rem;margin:40px 0;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-overflow-scrolling:touch}code.jsx-dfa1f33e090e0436{font-size:14px;line-height:20px}</style><style id="__jsx-89f3568f1269de8b">h4.jsx-89f3568f1269de8b{font-size:1.15rem;font-weight:600}</style><style id="__jsx-30dec14f463f5da7">.geist-emoji-selector.jsx-30dec14f463f5da7{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;pointer-events:none}.geist-emoji-selector.loading.jsx-30dec14f463f5da7{filter:grayscale(100%);-webkit-filter:grayscale(100%);cursor:default;pointer-events:none}.geist-emoji-selector.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7{background:transparent;border:0;padding:0;margin:0}.geist-emoji-selector.jsx-30dec14f463f5da7 img{border:none;background:none}.geist-emoji-selector.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7,.geist-emoji-selector.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7 .inner.jsx-30dec14f463f5da7{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex}.geist-emoji-selector.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7{padding:2px 3px;cursor:pointer;text-align:center;filter:grayscale(100%);-webkit-filter:grayscale(100%)}.geist-emoji-selector.loading.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7{cursor:default;-webkit-transition:-webkit-transform.2s ease;-moz-transition:-moz-transform.2s ease;-o-transition:-o-transform.2s ease;transition:-webkit-transform.2s ease;transition:-moz-transform.2s ease;transition:-o-transform.2s ease;transition:transform.2s ease}.geist-emoji-selector.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7:first-child{outline:none;pointer-events:all}.geist-emoji-selector.loading.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7:first-child{outline:none;pointer-events:none}.geist-emoji-selector.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7:not(:last-child){margin-right:12px}.geist-emoji-selector.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7 .inner.jsx-30dec14f463f5da7{height:40px;width:40px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:3px}.geist-emoji-selector.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7 .inner.icon.jsx-30dec14f463f5da7{padding:3px 2px 2px 2px}.geist-emoji-selector.jsx-30dec14f463f5da7>button.active.jsx-30dec14f463f5da7 .inner.jsx-30dec14f463f5da7,.geist-emoji-selector.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7:hover .inner.jsx-30dec14f463f5da7{border-color:#f8e71c}.geist-emoji-selector.jsx-30dec14f463f5da7>button.option.jsx-30dec14f463f5da7{opacity:0;-webkit-transition:all ease 100ms;-moz-transition:all ease 100ms;-o-transition:all ease 100ms;transition:all ease 100ms;-webkit-transform-origin:center center;-moz-transform-origin:center center;-ms-transform-origin:center center;-o-transform-origin:center center;transform-origin:center center;pointer-events:none;will-change:transform,filter}.geist-emoji-selector.jsx-30dec14f463f5da7>button.jsx-30dec14f463f5da7:hover,.geist-emoji-selector.jsx-30dec14f463f5da7>button.active.jsx-30dec14f463f5da7{-webkit-transform:scale(1.35);-moz-transform:scale(1.35);-ms-transform:scale(1.35);-o-transform:scale(1.35);transform:scale(1.35);filter:grayscale(0);-webkit-filter:grayscale(0)}.geist-emoji-selector.shown.jsx-30dec14f463f5da7>button.option.jsx-30dec14f463f5da7{pointer-events:all;opacity:1}</style><style id="__jsx-272385440">.wrapper.jsx-272385440{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;border-radius: 5px;
            border: 1px solid var(--accents-2);
                display: inline-flex;position:relative;-webkit-transition:border.2s ease,color.2s ease;-moz-transition:border.2s ease,color.2s ease;-o-transition:border.2s ease,color.2s ease;transition:border.2s ease,color.2s ease;width:100%;;background:var(--geist-background);height:calc(9 * var(--geist-space));}.wrapper.focused.jsx-272385440{border: 1px solid var(--accents-5);
          }.wrapper.disabled.jsx-272385440{background:var(--accents-1);border-color:var(--accents-2);cursor:not-allowed}.wrapper.errored.jsx-272385440{border:1px solid var(--geist-error)}.wrapper.errored.focused.jsx-272385440{border:1px solid var(--geist-error);color:var(--geist-error)}.wrapper.errored.jsx-272385440 input.jsx-272385440{color:var(--geist-error)}.wrapper.right.jsx-272385440{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-direction:row-reverse;-moz-box-orient:horizontal;-moz-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.icon.jsx-272385440{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:100%;padding:0 var(--geist-gap-half);vertical-align:middle}.icon.right.jsx-272385440{-webkit-box-ordinal-group:3;-webkit-order:2;-moz-box-ordinal-group:3;-ms-flex-order:2;order:2;-webkit-border-bottom-right-radius:5px;-moz-border-radius-bottomright:5px;border-bottom-right-radius:5px;-webkit-border-top-right-radius:5px;-moz-border-radius-topright:5px;border-top-right-radius:5px}.icon.right.jsx-272385440~.input-wrapper.jsx-272385440{margin-right:0}.icon.jsx-272385440:not(.right)~.input-wrapper.jsx-272385440{margin-left:0}.input-wrapper.jsx-272385440{margin-right:0}.icon.jsx-272385440 svg path{-webkit-transition:fill.2s ease,stroke.2s ease;-moz-transition:fill.2s ease,stroke.2s ease;-o-transition:fill.2s ease,stroke.2s ease;transition:fill.2s ease,stroke.2s ease}.input-wrapper.jsx-272385440{display:block;margin:4px 10px;position:relative;width:100%}input.jsx-272385440{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;border:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;padding:0;font-family:var(--font-sans);font-size:14px;line-height:26px;outline:0;width:100%;color:var(--geist-foreground);background-color:transparent;caret-color:var(--geist-foreground);-o-text-overflow:ellipsis;text-overflow:ellipsis;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none}.wrapper.jsx-272385440 input.jsx-272385440:disabled{color:var(--accents-3);cursor:not-allowed}.wrapper.jsx-272385440 input.jsx-272385440::-webkit-input-placeholder,.wrapper.jsx-272385440 input.jsx-272385440::-webkit-input-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440:-moz-placeholder,.wrapper.jsx-272385440 input.jsx-272385440::-webkit-input-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440::-moz-placeholder,.wrapper.jsx-272385440 input.jsx-272385440::-webkit-input-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440:-ms-input-placeholder,.wrapper.jsx-272385440 input.jsx-272385440::-webkit-input-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440::-ms-input-placeholder,.wrapper.jsx-272385440 input.jsx-272385440::-webkit-input-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440::placeholder,.wrapper.jsx-272385440 input.jsx-272385440::-webkit-input-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440:disabled::-webkit-input-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440:disabled:-moz-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440:disabled::-moz-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440:disabled:-ms-input-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440:disabled::-ms-input-placeholder{color:var(--accents-3)}.wrapper.jsx-272385440 input.jsx-272385440:disabled::placeholder{color:var(--accents-3)}@media only screen and (max-device-width:780px)and (-webkit-min-device-pixel-ratio:0){input.jsx-272385440{font-size:16px;line-height:1}.wrapper.jsx-272385440{height:-webkit-calc(2*var(--geist-gap));height:-moz-calc(2*var(--geist-gap));height:calc(2*var(--geist-gap))}}</style><style id="__jsx-2969556552">.wrapper.jsx-2969556552{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;border:1px solid var(--accents-2);display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;position:relative;-webkit-transition:border.2s ease,color.2s ease;-moz-transition:border.2s ease,color.2s ease;-o-transition:border.2s ease,color.2s ease;transition:border.2s ease,color.2s ease;vertical-align:middle;background:var(--geist-background);width: 100%;
            
          }.wrapper.focused.jsx-2969556552{border:1px solid var(--accents-5)}.wrapper.errored.jsx-2969556552{border:1px solid var(--geist-error)}.wrapper.errored.focused.jsx-2969556552{border:1px solid var(--geist-error);color:var(--geist-error)}.wrapper.errored.jsx-2969556552 textarea.jsx-2969556552{color:var(--geist-error)}.wrapper.disabled.jsx-2969556552{border-color:var(--accents-2)!important}textarea.jsx-2969556552{background-color:transparent;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;border:0;border:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;font-family:var(--font-sans);font-size:14px;line-height:1.7;height:100%;min-height: 100px;outline:0;padding:7px 10px;resize:none;width:100%;color:var(--geist-foreground)}.wrapper.jsx-2969556552 textarea.jsx-2969556552:disabled{background:var(--accents-1);color:var(--accents-4);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;cursor:not-allowed}.wrapper.jsx-2969556552 textarea.jsx-2969556552::-webkit-input-placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552:-moz-placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552::-moz-placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552:-ms-input-placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552::-ms-input-placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552::placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552:disabled::-webkit-input-placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552:disabled:-moz-placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552:disabled::-moz-placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552:disabled:-ms-input-placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552:disabled::-ms-input-placeholder{color:var(--accents-3)}.wrapper.jsx-2969556552 textarea.jsx-2969556552:disabled::placeholder{color:var(--accents-3)}@media only screen and (max-device-width:780px)and (-webkit-min-device-pixel-ratio:0){textarea.jsx-2969556552{font-size:16px}}</style><style id="__jsx-4ecab5f1b4f64ae3">.learn.jsx-4ecab5f1b4f64ae3{color:#666}.feedback.jsx-4ecab5f1b4f64ae3{text-align:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.helpful.jsx-4ecab5f1b4f64ae3{font-size:1rem;font-weight:600}.geist-feedback-input.jsx-4ecab5f1b4f64ae3{padding:0;position:relative;display:inline-block;-webkit-transition:all 150ms ease-out;-moz-transition:all 150ms ease-out;-o-transition:all 150ms ease-out;transition:all 150ms ease-out;font-family:var(--font-sans);text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;max-width:86vw;width:100%}.textarea-wrapper.jsx-4ecab5f1b4f64ae3{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;border-width:0;background:#f9f9f9;padding:var(--geist-gap-half);height:0px;width:100%;max-width:408px;margin:0 auto;opacity:0;line-height:24px;font-size:16px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-family:var(--font-sans);resize:none;vertical-align:top;z-index:100;outline:0;color:#000;overflow-y:hidden;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;margin-top:16px;-webkit-transition:all 150ms ease-out,border-radius 150ms step-start;-moz-transition:all 150ms ease-out,border-radius 150ms step-start;-o-transition:all 150ms ease-out,border-radius 150ms step-start;transition:all 150ms ease-out,border-radius 150ms step-start}.geist-feedback-input.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3{margin-bottom:var(--geist-gap-half)}.geist-feedback-input.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3 label.jsx-4ecab5f1b4f64ae3{margin:0;display:block;text-align:left;font-weight:500;font-size:12px;text-transform:uppercase;margin-top:0px;margin-bottom:var(--geist-gap-half);line-height:normal;color:var(--accents-5)}.geist-feedback-input.error.focused.jsx-4ecab5f1b4f64ae3 .textarea-wrapper.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3,.geist-feedback-input.success.focused.jsx-4ecab5f1b4f64ae3 .textarea-wrapper.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3{pointer-events:none;opacity:0}.geist-feedback-input.error.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3,.geist-feedback-input.success.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3{color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.geist-feedback-input.loading.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3{color:#ccc}.geist-feedback-input.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3>*.jsx-4ecab5f1b4f64ae3::-webkit-input-placeholder{color:var(--accents-5);-webkit-transition:color.2s ease-in-out;transition:color.2s ease-in-out}.geist-feedback-input.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3>*.jsx-4ecab5f1b4f64ae3:-moz-placeholder{color:var(--accents-5);-moz-transition:color.2s ease-in-out;transition:color.2s ease-in-out}.geist-feedback-input.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3>*.jsx-4ecab5f1b4f64ae3::-moz-placeholder{color:var(--accents-5);-moz-transition:color.2s ease-in-out;transition:color.2s ease-in-out}.geist-feedback-input.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3>*.jsx-4ecab5f1b4f64ae3:-ms-input-placeholder{color:var(--accents-5);transition:color.2s ease-in-out}.geist-feedback-input.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3>*.jsx-4ecab5f1b4f64ae3::-ms-input-placeholder{color:var(--accents-5);transition:color.2s ease-in-out}.geist-feedback-input.jsx-4ecab5f1b4f64ae3 .input.jsx-4ecab5f1b4f64ae3>*.jsx-4ecab5f1b4f64ae3::placeholder{color:var(--accents-5);-webkit-transition:color.2s ease-in-out;-moz-transition:color.2s ease-in-out;-o-transition:color.2s ease-in-out;transition:color.2s ease-in-out}.geist-feedback-input.focused.jsx-4ecab5f1b4f64ae3 .textarea-wrapper.jsx-4ecab5f1b4f64ae3{display:block;width:100%;max-width:408px;margin:0 auto;padding-bottom:40px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;overflow:hidden;position:relative;-webkit-transition:all 150ms ease-out,border-radius 150ms step-end;-moz-transition:all 150ms ease-out,border-radius 150ms step-end;-o-transition:all 150ms ease-out,border-radius 150ms step-end;transition:all 150ms ease-out,border-radius 150ms step-end;z-index:999;background:var(--geist-background);height:272px;opacity:1}.error-message.jsx-4ecab5f1b4f64ae3,.success-message.jsx-4ecab5f1b4f64ae3{position:absolute;left:0;top:0;z-index:1001;width:100%;font-size:14px;height:100%;line-height:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center;padding:20px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.success-message.jsx-4ecab5f1b4f64ae3 p.jsx-4ecab5f1b4f64ae3{margin:0;opacity:0;-webkit-animation:appear 500ms ease forwards;-moz-animation:appear 500ms ease forwards;-o-animation:appear 500ms ease forwards;animation:appear 500ms ease forwards}.success-message.jsx-4ecab5f1b4f64ae3 p.jsx-4ecab5f1b4f64ae3:first-of-type{margin-bottom:var(--geist-gap-half);-webkit-animation-delay:100ms;-moz-animation-delay:100ms;-o-animation-delay:100ms;animation-delay:100ms}.success-message.jsx-4ecab5f1b4f64ae3 p.jsx-4ecab5f1b4f64ae3:nth-of-type(2){-webkit-animation-delay:500ms;-moz-animation-delay:500ms;-o-animation-delay:500ms;animation-delay:500ms}.error-message.jsx-4ecab5f1b4f64ae3 span.jsx-4ecab5f1b4f64ae3{color:#eb5757;margin-bottom:20px}.error-message.jsx-4ecab5f1b4f64ae3 a.jsx-4ecab5f1b4f64ae3{color:#000;text-decoration:none}.geist-feedback-input.focused.jsx-4ecab5f1b4f64ae3 .controls.jsx-4ecab5f1b4f64ae3{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.controls.jsx-4ecab5f1b4f64ae3{pointer-events:none;visibility:hidden;opacity:0;width:100%;background-color:var(--geist-background);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-border-bottom-left-radius:5px;-moz-border-radius-bottomleft:5px;border-bottom-left-radius:5px;-webkit-border-bottom-right-radius:5px;-moz-border-radius-bottomright:5px;border-bottom-right-radius:5px}.emojis.jsx-4ecab5f1b4f64ae3{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.emoji.jsx-4ecab5f1b4f64ae3{border:none}.controls.jsx-4ecab5f1b4f64ae3 .buttons.jsx-4ecab5f1b4f64ae3{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;text-align:right;-webkit-transition:opacity 200ms ease;-moz-transition:opacity 200ms ease;-o-transition:opacity 200ms ease;transition:opacity 200ms ease}.controls.jsx-4ecab5f1b4f64ae3 .buttons.hidden.jsx-4ecab5f1b4f64ae3{opacity:0}.geist-feedback-input.focused.jsx-4ecab5f1b4f64ae3 .controls.jsx-4ecab5f1b4f64ae3{-webkit-animation-name:appear;-moz-animation-name:appear;-o-animation-name:appear;animation-name:appear;-webkit-animation-delay:250ms;-moz-animation-delay:250ms;-o-animation-delay:250ms;animation-delay:250ms;-webkit-animation-duration:150ms;-moz-animation-duration:150ms;-o-animation-duration:150ms;animation-duration:150ms;-webkit-animation-timing-function:ease-out;-moz-animation-timing-function:ease-out;-o-animation-timing-function:ease-out;animation-timing-function:ease-out;-webkit-animation-fill-mode:forwards;-moz-animation-fill-mode:forwards;-o-animation-fill-mode:forwards;animation-fill-mode:forwards;pointer-events:inherit;z-index:1001;visibility:visible}@-webkit-keyframes appear{from{opacity:0}to{opacity:1}}@-moz-keyframes appear{from{opacity:0}to{opacity:1}}@-o-keyframes appear{from{opacity:0}to{opacity:1}}@keyframes appear{from{opacity:0}to{opacity:1}}</style><style id="__jsx-2311104440">div.jsx-2311104440{width:100%;margin:0 auto;padding:0 0;
            
            
            
            
            
            background-color: #fafafa;
            border-top: 1px solid #eaeaea;
            border-bottom: 1px solid #eaeaea;
            overflow: hidden;
            
            
            
            
          }div.jsx-2311104440:after{content:"";display:table;clear:both}@media screen and (max-width:960px){div.jsx-2311104440{padding:0 0;
            }}@media screen and (max-width:640px){div.jsx-2311104440{padding:0 0;
            }}</style><style id="__jsx-a4910c57dcd2e1d9">.title.jsx-a4910c57dcd2e1d9{text-align:center;letter-spacing:-.05em;font-size:2.5rem;padding-top:2.25rem}.date.jsx-a4910c57dcd2e1d9{margin:1rem 0 1rem;text-align:center;opacity:0;-webkit-transition:opacity.2s ease;-moz-transition:opacity.2s ease;-o-transition:opacity.2s ease;transition:opacity.2s ease}.date-visible.jsx-a4910c57dcd2e1d9{opacity:1}.authors.jsx-a4910c57dcd2e1d9{max-width:800px;margin:1.5rem auto 3rem;text-align:center;border-bottom:1px solid#eaeaea;padding-bottom:3rem}.back-button.jsx-a4910c57dcd2e1d9{margin-top:8rem}.icon.jsx-a4910c57dcd2e1d9{line-height:0;vertical-align:middle}.post-type.jsx-a4910c57dcd2e1d9{display:block;text-align:center;text-transform:uppercase;font-size:12px;color:#0070f3}.authors-shadow.jsx-a4910c57dcd2e1d9{display:none}@media screen and (max-width:640px){.authors-wrapper.jsx-a4910c57dcd2e1d9{position:relative;padding:0 1rem}.authors.jsx-a4910c57dcd2e1d9{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;overflow-x:scroll;padding:1rem;margin-top:.5rem;position:relative}.authors-shadow.jsx-a4910c57dcd2e1d9{display:block;position:absolute;top:0;height:90%;width:2rem;pointer-events:none}.authors-shadow-left.jsx-a4910c57dcd2e1d9{left:1rem;background-image:-webkit-linear-gradient(left,#fff,rgba(255,255,255,0));background-image:-moz-linear-gradient(left,#fff,rgba(255,255,255,0));background-image:-o-linear-gradient(left,#fff,rgba(255,255,255,0));background-image:linear-gradient(to right,#fff,rgba(255,255,255,0))}.authors-shadow-right.jsx-a4910c57dcd2e1d9{right:1rem;background-image:-webkit-linear-gradient(right,#fff,rgba(255,255,255,0));background-image:-moz-linear-gradient(right,#fff,rgba(255,255,255,0));background-image:-o-linear-gradient(right,#fff,rgba(255,255,255,0));background-image:linear-gradient(to left,#fff,rgba(255,255,255,0))}.title.jsx-a4910c57dcd2e1d9{text-align:center}.date.jsx-a4910c57dcd2e1d9{margin-top:1rem;text-align:center}}</style></head><body><script async="">(function applyRedirects() {
    const match = location.pathname + location.hash;
    const docsPrefix = "../docs/index.html";
    const redirects = [
        // image redirects
        [
            "api-reference/next/image#usage",
            "basic-features/image-optimization#using-the-image-component"
        ],
        [
            "api-reference/next/image#styling",
            "basic-features/image-optimization#styling"
        ],
        [
            "basic-features/image-optimization#image-component",
            "basic-features/image-optimization#using-the-image-component"
        ],
        [
            "basic-features/image-optimization#image-imports",
            "basic-features/image-optimization#local-images"
        ],
        [
            "basic-features/image-optimization#loader",
            "basic-features/image-optimization#loaders"
        ],
        [
            "basic-features/image-optimization#caching",
            "api-reference/next/image#caching-behavior"
        ],
        [
            "basic-features/image-optimization#advanced",
            "api-reference/next/image#advanced"
        ],
        [
            "basic-features/image-optimization#device-sizes",
            "api-reference/next/image#device-sizes"
        ],
        [
            "basic-features/image-optimization#image-sizes",
            "api-reference/next/image#image-sizes"
        ],
        [
            "basic-features/image-optimization#minimum-cache-ttl",
            "api-reference/next/image#caching-behavior"
        ],
        [
            "basic-features/image-optimization#disable-static-imports",
            "api-reference/next/image#disable-static-imports"
        ],
        // data fetching redirects
        [
            "/docs/basic-features/data-fetching.md",
            "/docs/basic-features/data-fetching/index.md"
        ],
        [
            "/docs/basic-features/data-fetching#swr",
            "/docs/basic-features/data-fetching/client-side#client-side-data-fetching-with-swr"
        ],
        [
            "/docs/basic-features/data-fetching#incremental-static-regeneration",
            "/docs/basic-features/data-fetching/incremental-static-regeneration#incremental-static-regeneration"
        ],
        [
            "/docs/basic-features/data-fetching/incremental-static-regeneration.md#on-demand-revalidation-beta",
            "/docs/basic-features/data-fetching/incremental-static-regeneration.md#on-demand-revalidation"
        ],
        // getStaticProps
        [
            "basic-features/data-fetching#getstaticprops-static-generation",
            "basic-features/data-fetching/get-static-props#getstaticprops"
        ],
        [
            "basic-features/data-fetching#example",
            "basic-features/data-fetching/get-static-props#using-getstaticprops-to-fetch-data-from-a-cms"
        ],
        [
            "basic-features/data-fetching#when-should-i-use-getstaticprops",
            "basic-features/data-fetching/get-static-props#when-should-i-use-getstaticprops"
        ],
        [
            "basic-features/data-fetching#typescript-use-getstaticprops",
            "api-reference/data-fetching/get-static-props#getstaticprops-with-typescript"
        ],
        [
            "basic-features/data-fetching#reading-files-use-processcwd",
            "api-reference/data-fetching/get-static-props#reading-files-use-processcwd"
        ],
        [
            "basic-features/data-fetching#technical-details",
            "basic-features/data-fetching/get-static-props#getstaticprops"
        ],
        [
            "basic-features/data-fetching#only-runs-at-build-time",
            "basic-features/data-fetching/get-static-props#when-should-i-use-getstaticprops"
        ],
        [
            "basic-features/data-fetching#write-server-side-code-directly",
            "basic-features/data-fetching/get-static-props#write-server-side-code-directly"
        ],
        [
            "basic-features/data-fetching#statically-generates-both-html-and-json",
            "basic-features/data-fetching/get-static-props#statically-generates-both-html-and-json"
        ],
        [
            "basic-features/data-fetching#only-allowed-in-a-page",
            "basic-features/data-fetching/get-static-props#where-can-i-use-getstaticprops"
        ],
        [
            "basic-features/data-fetching#runs-on-every-request-in-development",
            "basic-features/data-fetching/get-static-props#runs-on-every-request-in-development"
        ],
        [
            "basic-features/data-fetching#preview-mode",
            "basic-features/data-fetching/get-static-props#preview-mode"
        ],
        // getStaticPaths
        [
            "basic-features/data-fetching#getstaticpaths-static-generation",
            "basic-features/data-fetching/get-static-paths#getstaticpaths"
        ],
        [
            "basic-features/data-fetching#the-paths-key-required",
            "api-reference/data-fetching/get-static-paths#paths"
        ],
        [
            "basic-features/data-fetching#the-fallback-key-required",
            "api-reference/data-fetching/get-static-paths#fallback-false"
        ],
        [
            "basic-features/data-fetching#fallback-false",
            "api-reference/data-fetching/get-static-paths#fallback-false"
        ],
        [
            "basic-features/data-fetching#fallback-true",
            "api-reference/data-fetching/get-static-paths#fallback-true"
        ],
        [
            "basic-features/data-fetching#fallback-pages",
            "api-reference/data-fetching/get-static-paths#fallback-pages"
        ],
        [
            "basic-features/data-fetching#when-is-fallback-true-useful",
            "api-reference/data-fetching/get-static-paths#when-is-fallback-true-useful"
        ],
        [
            "basic-features/data-fetching#fallback-blocking",
            "api-reference/data-fetching/get-static-paths#fallback-blocking"
        ],
        [
            "basic-features/data-fetching#when-should-i-use-getstaticpaths",
            "basic-features/data-fetching/get-static-paths#when-should-i-use-getstaticpaths"
        ],
        [
            "basic-features/data-fetching#use-together-with-getstaticprops",
            "basic-features/data-fetching/get-static-paths#getstaticpaths"
        ],
        [
            "basic-features/data-fetching#technical-details-1",
            "basic-features/data-fetching/get-static-paths#getstaticpaths"
        ],
        [
            "basic-features/data-fetching#only-runs-at-build-time-on-server-side",
            "basic-features/data-fetching/get-static-paths#when-does-getStaticPaths-run"
        ],
        [
            "basic-features/data-fetching#only-allowed-in-a-page-1",
            "basic-features/data-fetching/get-static-paths#where-can-i-use-getStaticPaths"
        ],
        [
            "basic-features/data-fetching#runs-on-every-request-in-development-1",
            "basic-features/data-fetching/get-static-paths#runs-on-every-request-in-development"
        ],
        [
            "basic-features/data-fetching#typescript-use-getstaticpaths",
            "api-reference/data-fetching/get-static-paths#getstaticpaths-with-typescript"
        ],
        // getServerSideProps
        [
            "basic-features/data-fetching#getserversideprops-server-side-rendering",
            "basic-features/data-fetching/get-server-side-props#getserversideprops"
        ],
        [
            "basic-features/data-fetching#provided-req-middleware-in-getserversideprops",
            "basic-features/data-fetching/get-server-side-props#using-getserversideprops-to-fetch-data-at-request-time"
        ],
        [
            "basic-features/data-fetching#example-1",
            "basic-features/data-fetching/get-server-side-props#using-getserversideprops-to-fetch-data-at-request-time"
        ],
        [
            "basic-features/data-fetching#when-should-i-use-getserversideprops",
            "basic-features/data-fetching/get-server-side-props#when-should-i-use-getserversideprops"
        ],
        [
            "basic-features/data-fetching#typescript-use-getserversideprops",
            "api-reference/data-fetching/get-server-side-props#getserversideprops-with-typescript"
        ],
        [
            "basic-features/data-fetching#technical-details-2",
            "basic-features/data-fetching/get-server-side-props#when-does-getserversideprops-run"
        ],
        [
            "basic-features/data-fetching#only-runs-on-server-side",
            "basic-features/data-fetching/get-server-side-props#when-does-getserversideprops-run"
        ],
        [
            "basic-features/data-fetching#only-allowed-in-a-page-2",
            "basic-features/data-fetching/get-server-side-props#only-allowed-in-a-page"
        ],
        [
            "basic-features/data-fetching#fetching-data-on-the-client-side",
            "basic-features/data-fetching/get-server-side-props#fetching-data-on-the-client-side"
        ],
        [
            "deployment#vercel-recommended",
            "deployment#managed-nextjs-with-vercel"
        ],
        [
            "deployment#getting-started",
            "deployment#managed-nextjs-with-vercel"
        ],
        [
            "deployment#dps-develop-preview-ship",
            "deployment#managed-nextjs-with-vercel"
        ],
        [
            "deployment#optimized-for-nextjs",
            "deployment#managed-nextjs-with-vercel"
        ],
        [
            "deployment#custom-domains-environment-variables-automatic-https-and-more",
            "deployment#managed-nextjs-with-vercel"
        ],
        [
            "deployment#other-hosting-options",
            "deployment#self-hosting"
        ]
    ];
    for(let index = 0; index < redirects.length; ++index){
        const item = redirects[index];
        if (`${docsPrefix}${item[0]}` === match) {
            document.location = `${docsPrefix}${item[1]}`;
            return;
        }
    }
})()</script><div id="__next"><div data-overlay-container="true"><script async="" src="../va/script.js"></script><div class="page-container"><header class="header_header__U_Kza header_sticky__Hn9_C"><div class="jsx-afac35586e50539d banner"><div class="jsx-afac35586e50539d inner"><p class="jsx-afac35586e50539d">You are viewing the docs for the <b class="jsx-afac35586e50539d">App Router</b> (beta)</p><a href="https://nextjs.org/docs" rel="noopener noreferrer" target="_blank" class="jsx-afac35586e50539d"><p class="jsx-afac35586e50539d"><b class="jsx-afac35586e50539d">Next 13</b> (stable) docs →</p></a></div><div class="jsx-afac35586e50539d mobile-inner"><p class="jsx-afac35586e50539d"><b class="jsx-afac35586e50539d">`app` directory</b> (beta) ↓</p><a href="https://nextjs.org/docs" rel="noopener noreferrer" target="_blank" class="jsx-afac35586e50539d"><p class="jsx-afac35586e50539d"><b class="jsx-afac35586e50539d">Next 13</b> (stable) docs →</p></a></div></div><div class="jsx-1717418763 "><a tabindex="0" href="#reach-skip-nav" data-reach-skip-link="true">Skip to content</a><h1 aria-hidden="true" class="visually-hidden">Next.js</h1><nav class="navbar_nav__cJfdS f-reset"><div class="navbar_mobileTop__Ij4dL"><a class="navbar_mobileLogo__12tXd" title="Go to the homepage" href="https://nextjs.org/"><svg fill="none" height="18.2741116751" viewBox="0 0 394 80" xmlns="http://www.w3.org/2000/svg"><title>Next.js Logo</title><path d="M261.919 0.0330722H330.547V12.7H303.323V79.339H289.71V12.7H261.919V0.0330722Z" fill="var(--geist-foreground)"></path><path d="M149.052 0.0330722V12.7H94.0421V33.0772H138.281V45.7441H94.0421V66.6721H149.052V79.339H80.43V12.7H80.4243V0.0330722H149.052Z" fill="var(--geist-foreground)"></path><path d="M183.32 0.0661486H165.506L229.312 79.3721H247.178L215.271 39.7464L247.127 0.126654L229.312 0.154184L206.352 28.6697L183.32 0.0661486Z" fill="var(--geist-foreground)"></path><path d="M201.6 56.7148L192.679 45.6229L165.455 79.4326H183.32L201.6 56.7148Z" fill="var(--geist-foreground)"></path><path clip-rule="evenodd" d="M80.907 79.339L17.0151 0H0V79.3059H13.6121V16.9516L63.8067 79.339H80.907Z" fill="var(--geist-foreground)" fill-rule="evenodd"></path><path d="M333.607 78.8546C332.61 78.8546 331.762 78.5093 331.052 77.8186C330.342 77.1279 329.991 76.2917 330 75.3011C329.991 74.3377 330.342 73.5106 331.052 72.8199C331.762 72.1292 332.61 71.7838 333.607 71.7838C334.566 71.7838 335.405 72.1292 336.115 72.8199C336.835 73.5106 337.194 74.3377 337.204 75.3011C337.194 75.9554 337.028 76.5552 336.696 77.0914C336.355 77.6368 335.922 78.064 335.377 78.373C334.842 78.6911 334.252 78.8546 333.607 78.8546Z" fill="var(--geist-foreground)"></path><path d="M356.84 45.4453H362.872V68.6846C362.863 70.8204 362.401 72.6472 361.498 74.1832C360.585 75.7191 359.321 76.8914 357.698 77.7185C356.084 78.5364 354.193 78.9546 352.044 78.9546C350.079 78.9546 348.318 78.6001 346.75 77.9094C345.182 77.2187 343.937 76.1826 343.024 74.8193C342.101 73.456 341.649 71.7565 341.649 69.7207H347.691C347.7 70.6114 347.903 71.3838 348.29 72.0291C348.677 72.6744 349.212 73.1651 349.895 73.5105C350.586 73.8559 351.38 74.0286 352.274 74.0286C353.243 74.0286 354.073 73.8286 354.746 73.4196C355.419 73.0197 355.936 72.4199 356.296 71.6201C356.646 70.8295 356.831 69.8479 356.84 68.6846V45.4453Z" fill="var(--geist-foreground)"></path><path d="M387.691 54.5338C387.544 53.1251 386.898 52.0254 385.773 51.2438C384.638 50.4531 383.172 50.0623 381.373 50.0623C380.11 50.0623 379.022 50.2532 378.118 50.6258C377.214 51.0075 376.513 51.5164 376.033 52.1617C375.554 52.807 375.314 53.5432 375.295 54.3703C375.295 55.061 375.461 55.6608 375.784 56.1607C376.107 56.6696 376.54 57.0968 377.103 57.4422C377.656 57.7966 378.274 58.0874 378.948 58.3237C379.63 58.56 380.313 58.76 380.995 58.9236L384.14 59.6961C385.404 59.9869 386.631 60.3778 387.802 60.8776C388.973 61.3684 390.034 61.9955 390.965 62.7498C391.897 63.5042 392.635 64.413 393.179 65.4764C393.723 66.5397 394 67.7848 394 69.2208C394 71.1566 393.502 72.8562 392.496 74.3285C391.491 75.7917 390.043 76.9369 388.143 77.764C386.252 78.582 383.965 79 381.272 79C378.671 79 376.402 78.6002 374.493 77.8004C372.575 77.0097 371.08 75.8463 370.001 74.3194C368.922 72.7926 368.341 70.9294 368.258 68.7391H374.235C374.318 69.8842 374.687 70.8386 375.314 71.6111C375.95 72.3745 376.78 72.938 377.795 73.3197C378.819 73.6923 379.962 73.8832 381.226 73.8832C382.545 73.8832 383.707 73.6832 384.712 73.2924C385.708 72.9016 386.492 72.3564 387.055 71.6475C387.627 70.9476 387.913 70.1206 387.922 69.1754C387.913 68.312 387.654 67.5939 387.156 67.0304C386.649 66.467 385.948 65.9944 385.053 65.6127C384.15 65.231 383.098 64.8856 381.899 64.5857L378.081 63.6223C375.323 62.9225 373.137 61.8592 371.541 60.4323C369.937 59.0054 369.143 57.115 369.143 54.7429C369.143 52.798 369.678 51.0894 370.758 49.6261C371.827 48.1629 373.294 47.0268 375.148 46.2179C377.011 45.4 379.114 45 381.456 45C383.836 45 385.92 45.4 387.719 46.2179C389.517 47.0268 390.929 48.1538 391.952 49.5897C392.976 51.0257 393.511 52.6707 393.539 54.5338H387.691Z" fill="var(--geist-foreground)"></path></svg></a><div class="navbar_mobileTopRight__UVfkk"><button aria-label="open menu" class="navbar_menuButton__rN9dg" type="button"><div class="menu-toggle_wrap__oT7No "></div></button></div></div><div class="navbar_links__c7uSB"><a class="navbar_logo__LTPlN" title="Go to the homepage" href="https://nextjs.org/"><svg fill="none" height="18.2741116751" viewBox="0 0 394 80" xmlns="http://www.w3.org/2000/svg"><title>Next.js Logo</title><path d="M261.919 0.0330722H330.547V12.7H303.323V79.339H289.71V12.7H261.919V0.0330722Z" fill="var(--geist-foreground)"></path><path d="M149.052 0.0330722V12.7H94.0421V33.0772H138.281V45.7441H94.0421V66.6721H149.052V79.339H80.43V12.7H80.4243V0.0330722H149.052Z" fill="var(--geist-foreground)"></path><path d="M183.32 0.0661486H165.506L229.312 79.3721H247.178L215.271 39.7464L247.127 0.126654L229.312 0.154184L206.352 28.6697L183.32 0.0661486Z" fill="var(--geist-foreground)"></path><path d="M201.6 56.7148L192.679 45.6229L165.455 79.4326H183.32L201.6 56.7148Z" fill="var(--geist-foreground)"></path><path clip-rule="evenodd" d="M80.907 79.339L17.0151 0H0V79.3059H13.6121V16.9516L63.8067 79.339H80.907Z" fill="var(--geist-foreground)" fill-rule="evenodd"></path><path d="M333.607 78.8546C332.61 78.8546 331.762 78.5093 331.052 77.8186C330.342 77.1279 329.991 76.2917 330 75.3011C329.991 74.3377 330.342 73.5106 331.052 72.8199C331.762 72.1292 332.61 71.7838 333.607 71.7838C334.566 71.7838 335.405 72.1292 336.115 72.8199C336.835 73.5106 337.194 74.3377 337.204 75.3011C337.194 75.9554 337.028 76.5552 336.696 77.0914C336.355 77.6368 335.922 78.064 335.377 78.373C334.842 78.6911 334.252 78.8546 333.607 78.8546Z" fill="var(--geist-foreground)"></path><path d="M356.84 45.4453H362.872V68.6846C362.863 70.8204 362.401 72.6472 361.498 74.1832C360.585 75.7191 359.321 76.8914 357.698 77.7185C356.084 78.5364 354.193 78.9546 352.044 78.9546C350.079 78.9546 348.318 78.6001 346.75 77.9094C345.182 77.2187 343.937 76.1826 343.024 74.8193C342.101 73.456 341.649 71.7565 341.649 69.7207H347.691C347.7 70.6114 347.903 71.3838 348.29 72.0291C348.677 72.6744 349.212 73.1651 349.895 73.5105C350.586 73.8559 351.38 74.0286 352.274 74.0286C353.243 74.0286 354.073 73.8286 354.746 73.4196C355.419 73.0197 355.936 72.4199 356.296 71.6201C356.646 70.8295 356.831 69.8479 356.84 68.6846V45.4453Z" fill="var(--geist-foreground)"></path><path d="M387.691 54.5338C387.544 53.1251 386.898 52.0254 385.773 51.2438C384.638 50.4531 383.172 50.0623 381.373 50.0623C380.11 50.0623 379.022 50.2532 378.118 50.6258C377.214 51.0075 376.513 51.5164 376.033 52.1617C375.554 52.807 375.314 53.5432 375.295 54.3703C375.295 55.061 375.461 55.6608 375.784 56.1607C376.107 56.6696 376.54 57.0968 377.103 57.4422C377.656 57.7966 378.274 58.0874 378.948 58.3237C379.63 58.56 380.313 58.76 380.995 58.9236L384.14 59.6961C385.404 59.9869 386.631 60.3778 387.802 60.8776C388.973 61.3684 390.034 61.9955 390.965 62.7498C391.897 63.5042 392.635 64.413 393.179 65.4764C393.723 66.5397 394 67.7848 394 69.2208C394 71.1566 393.502 72.8562 392.496 74.3285C391.491 75.7917 390.043 76.9369 388.143 77.764C386.252 78.582 383.965 79 381.272 79C378.671 79 376.402 78.6002 374.493 77.8004C372.575 77.0097 371.08 75.8463 370.001 74.3194C368.922 72.7926 368.341 70.9294 368.258 68.7391H374.235C374.318 69.8842 374.687 70.8386 375.314 71.6111C375.95 72.3745 376.78 72.938 377.795 73.3197C378.819 73.6923 379.962 73.8832 381.226 73.8832C382.545 73.8832 383.707 73.6832 384.712 73.2924C385.708 72.9016 386.492 72.3564 387.055 71.6475C387.627 70.9476 387.913 70.1206 387.922 69.1754C387.913 68.312 387.654 67.5939 387.156 67.0304C386.649 66.467 385.948 65.9944 385.053 65.6127C384.15 65.231 383.098 64.8856 381.899 64.5857L378.081 63.6223C375.323 62.9225 373.137 61.8592 371.541 60.4323C369.937 59.0054 369.143 57.115 369.143 54.7429C369.143 52.798 369.678 51.0894 370.758 49.6261C371.827 48.1629 373.294 47.0268 375.148 46.2179C377.011 45.4 379.114 45 381.456 45C383.836 45 385.92 45.4 387.719 46.2179C389.517 47.0268 390.929 48.1538 391.952 49.5897C392.976 51.0257 393.511 52.6707 393.539 54.5338H387.691Z" fill="var(--geist-foreground)"></path></svg></a><a class="mute" title="Showcase" href="https://nextjs.org/showcase">Showcase</a><a class="mute" title="Documentation" href="../docs/getting-started.html">Docs</a><a class="mute navbar_selected__niLUn" href="https://nextjs.org/blog">Blog</a><a class="mute" rel="canonical" target="_blank" href="https://vercel.com/analytics?utm_source=next-site&amp;utm_medium=navbar">Analytics</a><a class="mute" rel="noopener noreferrer" target="_blank" href="https://vercel.com/templates/next.js?utm_source=next-site&amp;utm_medium=navbar&amp;utm_campaign=nextjs-templates">Templates</a><a class="mute" href="https://vercel.com/contact/sales?utm_source=next-site&amp;utm_medium=navbar&amp;utm_campaign=next-website" rel="noopener noreferrer" target="_blank">Enterprise</a></div><div class="navbar_headerButtons__MB8Cj"><div><a href="https://vercel.com/templates/next.js/app-directory?u=beta-docs" class="jsx-71f61fd80a7be62a navbar_learn__AHQbk btn fw4 no-drag">Deploy</a></div></div></nav></div></header><div class="jsx-923002 "><h1 class="jsx-a4910c57dcd2e1d9 title fw7">Layouts RFC</h1><div class="jsx-a4910c57dcd2e1d9 date mute f5"><time dateTime="Mon May 23 2022 20:30:00 GMT+0000 (Coordinated Universal Time)" class="jsx-a4910c57dcd2e1d9">Monday, May 23rd 2022<!-- --> (<!-- --> ago)</time></div></div><div class="jsx-a4910c57dcd2e1d9 authors-wrapper"><div class="jsx-a4910c57dcd2e1d9 authors"><div class="with-post_author__rFQlm"><div class="with-post_figure__XKhRM"><img alt="Tim Neutkens" srcSet="/_next/image?url=%2Fstatic%2Fteam%2Ftim.jpg&amp;w=48&amp;q=75 1x, /_next/image?url=%2Fstatic%2Fteam%2Ftim.jpg&amp;w=64&amp;q=75 2x" src="../_next/tim9be2.jpg?url=%2Fstatic%2Fteam%2Ftim.jpg&amp;w=64&amp;q=75" width="32" height="32" decoding="async" data-nimg="1" class="with-post_image__NdkmX" loading="lazy" style="color:transparent"/></div><span class="with-post_name__YVKwy"><span class="with-post_realname__zc3aZ">Tim Neutkens</span><a class="with-post_twitter__pPO0y" href="https://twitter.com/timneutkens" rel="noopener noreferrer" target="_blank">@<!-- -->timneutkens</a></span></div><div class="with-post_author__rFQlm"><div class="with-post_figure__XKhRM"><img alt="Sebastian Markbåge" srcSet="/_next/image?url=%2Fstatic%2Fteam%2Fseb.jpg&amp;w=48&amp;q=75 1x, /_next/image?url=%2Fstatic%2Fteam%2Fseb.jpg&amp;w=64&amp;q=75 2x" src="../_next/sebd800.jpg?url=%2Fstatic%2Fteam%2Fseb.jpg&amp;w=64&amp;q=75" width="32" height="32" decoding="async" data-nimg="1" class="with-post_image__NdkmX" loading="lazy" style="color:transparent"/></div><span class="with-post_name__YVKwy"><span class="with-post_realname__zc3aZ">Sebastian Markbåge</span><a class="with-post_twitter__pPO0y" href="https://twitter.com/sebmarkbage" rel="noopener noreferrer" target="_blank">@<!-- -->sebmarkbage</a></span></div><div class="with-post_author__rFQlm"><div class="with-post_figure__XKhRM"><img alt="Delba de Oliveira" srcSet="/_next/image?url=%2Fstatic%2Fteam%2Fdelba.jpg&amp;w=48&amp;q=75 1x, /_next/image?url=%2Fstatic%2Fteam%2Fdelba.jpg&amp;w=64&amp;q=75 2x" src="../_next/delba9ad7.jpg?url=%2Fstatic%2Fteam%2Fdelba.jpg&amp;w=64&amp;q=75" width="32" height="32" decoding="async" data-nimg="1" class="with-post_image__NdkmX" loading="lazy" style="color:transparent"/></div><span class="with-post_name__YVKwy"><span class="with-post_realname__zc3aZ">Delba de Oliveira</span><a class="with-post_twitter__pPO0y" href="https://twitter.com/delba_oliveira" rel="noopener noreferrer" target="_blank">@<!-- -->delba_oliveira</a></span></div><div class="with-post_author__rFQlm"><div class="with-post_figure__XKhRM"><img alt="Lee Robinson" srcSet="/_next/image?url=%2Fstatic%2Fteam%2Flee.jpg&amp;w=48&amp;q=75 1x, /_next/image?url=%2Fstatic%2Fteam%2Flee.jpg&amp;w=64&amp;q=75 2x" src="../_next/leef8c9.jpg?url=%2Fstatic%2Fteam%2Flee.jpg&amp;w=64&amp;q=75" width="32" height="32" decoding="async" data-nimg="1" class="with-post_image__NdkmX" loading="lazy" style="color:transparent"/></div><span class="with-post_name__YVKwy"><span class="with-post_realname__zc3aZ">Lee Robinson</span><a class="with-post_twitter__pPO0y" href="https://twitter.com/leeerob" rel="noopener noreferrer" target="_blank">@<!-- -->leeerob</a></span></div></div><div aria-hidden="true" class="jsx-a4910c57dcd2e1d9 authors-shadow authors-shadow-left"></div><div aria-hidden="true" class="jsx-a4910c57dcd2e1d9 authors-shadow authors-shadow-right"></div></div><div class="jsx-923002 "><div class="jsx-730780046 "><main class="jsx-a4910c57dcd2e1d9"><div><p class="jsx-3304e3efe243f919">This RFC (Request for Comment) outlines the biggest update to Next.js since it was introduced in 2016:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec"><strong>Nested Layouts:</strong> Build complex applications with nested routes.</li><li class="jsx-4a968599aec3e5ec"><strong>Designed for Server Components:</strong> Optimized for subtree navigation.</li><li class="jsx-4a968599aec3e5ec"><strong>Improved Data Fetching:</strong> Fetch in layouts while avoiding waterfalls.</li><li class="jsx-4a968599aec3e5ec"><strong>Using React 18 Features:</strong> Streaming, Transitions, and Suspense.</li><li class="jsx-4a968599aec3e5ec"><strong>Client and Server Routing:</strong> Server-centric routing with <em>SPA-like</em> behavior.</li><li class="jsx-4a968599aec3e5ec"><strong>100% incrementally adoptable</strong>: No breaking changes so you can adopt gradually.</li><li class="jsx-4a968599aec3e5ec"><strong>Advanced Routing Patterns</strong>: Parallel routes, intercepting routes, and more.</li></ul><p class="jsx-3304e3efe243f919">The new Next.js router will be built on top of the <a href="https://reactjs.org/blog/2022/03/29/react-v18.html" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">recently released React 18</a> features. We plan to introduce defaults and conventions that allow you to easily adopt these new features and take advantage of the benefits they unlock.</p><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919">Work on this RFC is ongoing and we&#x27;ll announce when the new features are available. To provide feedback, join the conversation on <a href="https://github.com/vercel/next.js/discussions/37136" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Github Discussions</a>.</p></blockquote><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="table-of-contents" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#table-of-contents" class="jsx-b357a4faf5484e2">Table of Contents</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec"><a href="#motivation" class="jsx-82a75d5e4b0ba330">Motivation</a></li><li class="jsx-4a968599aec3e5ec"><a href="#terminology" class="jsx-82a75d5e4b0ba330">Terminology</a></li><li class="jsx-4a968599aec3e5ec"><a href="#how-routing-currently-works" class="jsx-82a75d5e4b0ba330">How Routing Currently Works</a></li><li class="jsx-4a968599aec3e5ec"><a href="#introducing-the-app-directory" class="jsx-82a75d5e4b0ba330">The <code class="jsx-eca01b89ea5fd04 ">app</code> Directory</a></li><li class="jsx-4a968599aec3e5ec"><a href="#defining-routes" class="jsx-82a75d5e4b0ba330">Defining Routes</a></li><li class="jsx-4a968599aec3e5ec"><a href="#layouts" class="jsx-82a75d5e4b0ba330">Layouts</a></li><li class="jsx-4a968599aec3e5ec"><a href="#pages" class="jsx-82a75d5e4b0ba330">Pages</a></li><li class="jsx-4a968599aec3e5ec"><a href="#react-server-components" class="jsx-82a75d5e4b0ba330">React Server Components</a></li><li class="jsx-4a968599aec3e5ec"><a href="#data-fetching" class="jsx-82a75d5e4b0ba330">Data Fetching</a></li><li class="jsx-4a968599aec3e5ec"><a href="#route-groups" class="jsx-82a75d5e4b0ba330">Route Groups (New)</a></li><li class="jsx-4a968599aec3e5ec"><a href="#server-centric-routing" class="jsx-82a75d5e4b0ba330">Server Centric Routing (New)</a></li><li class="jsx-4a968599aec3e5ec"><a href="#instant-loading-states" class="jsx-82a75d5e4b0ba330">Instant Loading States (New)</a></li><li class="jsx-4a968599aec3e5ec"><a href="#error-handling" class="jsx-82a75d5e4b0ba330">Error Handling (New)</a></li><li class="jsx-4a968599aec3e5ec"><a href="#templates" class="jsx-82a75d5e4b0ba330">Templates (New)</a></li><li class="jsx-4a968599aec3e5ec"><a href="#advanced-routing-patterns" class="jsx-82a75d5e4b0ba330">Advanced Routing Patterns (New)</a></li><li class="jsx-4a968599aec3e5ec"><a href="#conclusion" class="jsx-82a75d5e4b0ba330">Conclusion</a></li></ul><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="motivation" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#motivation" class="jsx-b357a4faf5484e2">Motivation</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">We&#x27;ve been gathering community feedback from GitHub, Discord, Reddit, and our developer survey about the current limitations of routing in Next.js. We&#x27;ve found that:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">The developer experience of creating layouts can be improved. It should be easy to create layouts that can be nested, shared across routes, and have their state preserved on navigation.</li><li class="jsx-4a968599aec3e5ec">Many Next.js applications are dashboards or consoles, which would benefit from more advanced routing solutions.</li></ul><p class="jsx-3304e3efe243f919">While the current routing system has worked well since the beginning of Next.js, we want to make it easier for developers to build more performant and feature-rich web applications.</p><p class="jsx-3304e3efe243f919">As framework maintainers, we also want to build a routing system that is backwards compatible and aligns with the future of React.</p><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong> Some routing conventions were inspired by the Relay-based router at Meta, where some features of Server Components were originally developed, as well as client-side routers like React Router and Ember.js. The <code class="jsx-eca01b89ea5fd04 ">layout.js</code> file convention was inspired by the work done in SvelteKit. We&#x27;d also like to thank <a href="https://twitter.com/cassidoo" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Cassidy</a> for opening <a href="https://github.com/vercel/next.js/discussions/26389" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">an earlier RFC on layouts</a>.</p></blockquote><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="terminology" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#terminology" class="jsx-b357a4faf5484e2">Terminology</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">This RFC introduces new routing conventions and syntax. The terminology is based on React and standard web platform terms. Throughout the RFC, you&#x27;ll see these terms linked back to their definitions below.</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec"><strong>Tree:</strong> A convention for visualizing a hierarchical structure. For example, a component
tree with parent and children components, a folder structure, etc.</li><li class="jsx-4a968599aec3e5ec"><strong>Subtree</strong> Part of the tree, starting at the root (first) and ending at the leaves (last).</li></ul><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fterminology.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fterminology.png&amp;w=3840&amp;q=75 2x" src="../_next/terminology7a86.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fterminology.png&amp;w=3840&amp;q=75" width="1798" height="615" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec"><strong>URL Path:</strong> Part of the URL that comes after the domain.</li><li class="jsx-4a968599aec3e5ec"><strong>URL Segment:</strong> Part of the URL path delimited by slashes.</li></ul><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Furl-anatomy.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Furl-anatomy.png&amp;w=3840&amp;q=75 2x" src="../_next/url-anatomycbbf.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Furl-anatomy.png&amp;w=3840&amp;q=75" width="1798" height="407" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="how-routing-currently-works" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#how-routing-currently-works" class="jsx-b357a4faf5484e2">How Routing Currently Works</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">Today, Next.js uses the file system to map individual folders and files in the <a href="https://nextjs.org/docs/basic-features/pages" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Pages</a> directory to routes accessible through URLs. Each <strong>page</strong> file exports a React Component and has an associated <strong>route</strong> based on its file name. For example:</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Frouting-today.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Frouting-today.png&amp;w=3840&amp;q=75 2x" src="../_next/routing-today2200.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Frouting-today.png&amp;w=3840&amp;q=75" width="1798" height="605" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec"><strong>Dynamic Routes:</strong> Next.js supports <a href="https://nextjs.org/docs/routing/dynamic-routes" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Dynamic Routes</a> (including catch all variations) with the <code class="jsx-eca01b89ea5fd04 ">[param].js</code>, <code class="jsx-eca01b89ea5fd04 ">[...param].js</code> and <code class="jsx-eca01b89ea5fd04 ">[[...param]].js</code> conventions.</li><li class="jsx-4a968599aec3e5ec"><strong>Layouts:</strong> Next.js offers support for simple <a href="https://nextjs.org/docs/basic-features/layouts" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">component-based</a> layouts, per-page layouts using a component <a href="https://nextjs.org/docs/basic-features/layouts#per-page-layouts" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">property pattern</a>, and a single global layout using a <a href="https://nextjs.org/docs/basic-features/layouts#single-shared-layout-with-custom-app" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">custom app</a>.</li><li class="jsx-4a968599aec3e5ec"><strong>Data Fetching:</strong> Next.js provides data fetching methods (<a href="https://nextjs.org/docs/basic-features/data-fetching/get-static-props" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d"><code class="jsx-eca01b89ea5fd04 ">getStaticProps</code></a>, <a href="https://nextjs.org/docs/basic-features/data-fetching/get-server-side-props" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d"><code class="jsx-eca01b89ea5fd04 ">getServerSideProps</code></a>) which can be used at the page (route) level. These methods are used to determine if a page should be Statically Generated (<a href="https://nextjs.org/docs/basic-features/data-fetching/get-static-props" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d"><code class="jsx-eca01b89ea5fd04 ">getStaticProps</code></a>) or Server-Side Rendered (<a href="https://nextjs.org/docs/basic-features/data-fetching/get-server-side-props" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d"><code class="jsx-eca01b89ea5fd04 ">getServerSideProps</code></a>). In addition, you can use <a href="https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Incremental Static Regeneration (ISR)</a> to create or update static pages after a site is built.</li><li class="jsx-4a968599aec3e5ec"><strong>Rendering:</strong> Next.js provides three rendering options: <a href="https://nextjs.org/learn/foundations/how-nextjs-works/rendering" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Static Generation</a>, <a href="https://nextjs.org/learn/foundations/how-nextjs-works/rendering" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Server-Side Rendering</a>, and <a href="https://nextjs.org/learn/foundations/how-nextjs-works/rendering" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Client-Side Rendering</a>. By default, pages are statically generated unless they have a blocking data fetching requirement (<code class="jsx-eca01b89ea5fd04 ">getServerSideProps</code>).</li></ul><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="introducing-the-app-directory" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#introducing-the-app-directory" class="jsx-b357a4faf5484e2">Introducing the <code class="jsx-eca01b89ea5fd04 ">app</code> Directory</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">To ensure these new improvements can be incrementally adopted and avoid breaking changes, we are proposing a new directory called <code class="jsx-eca01b89ea5fd04 ">app</code>.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fapp-folder.png&amp;w=3840&amp;q=75 1x" src="../_next/app-folder1695.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fapp-folder.png&amp;w=3840&amp;q=75" width="3596" height="1534" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">The <code class="jsx-eca01b89ea5fd04 ">app</code> directory will work alongside the <code class="jsx-eca01b89ea5fd04 ">pages</code> directory. You can incrementally move parts of your application to the new <code class="jsx-eca01b89ea5fd04 ">app</code> directory to take advantage of the new features. For backwards compatibility, the behavior of the <code class="jsx-eca01b89ea5fd04 ">pages</code> directory will remain the same and continue to be supported.</p><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="defining-routes" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#defining-routes" class="jsx-b357a4faf5484e2">Defining Routes</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">You can use the <strong>folder</strong> hierarchy inside <code class="jsx-eca01b89ea5fd04 ">app</code> to define routes. A <strong>route</strong> is a single path of nested folders, following the hierarchy from the <strong>root folder</strong> down to a final <strong>leaf folder.</strong></p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froutes.png&amp;w=3840&amp;q=75 1x" src="../_next/routes576f.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froutes.png&amp;w=3840&amp;q=75" width="3596" height="1280" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">For example, you can add a new <code class="jsx-eca01b89ea5fd04 ">/dashboard/settings</code> route by nesting two new folders in the <code class="jsx-eca01b89ea5fd04 ">app</code> directory.</p><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong></p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">With this system, you&#x27;ll use folders to define routes, and files to define UI (with new file conventions such as <code class="jsx-eca01b89ea5fd04 ">layout.js</code>, <code class="jsx-eca01b89ea5fd04 ">page.js</code>, and in the second part of the RFC <code class="jsx-eca01b89ea5fd04 ">loading.js</code>).</li><li class="jsx-4a968599aec3e5ec">This allows you to colocate your own project files (UI components, test files, stories, etc) inside the <code class="jsx-eca01b89ea5fd04 ">app</code> directory. Currently this is only possible with the <a href="../docs/api-reference/next.config.js/custom-page-extensions.html#including-non-page-files-in-the-pages-directory" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">pageExtensions config</a>.</li></ul></blockquote><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="route-segments" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#route-segments" class="jsx-b357a4faf5484e2">Route Segments</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">Each folder in the <a href="#terminology" class="jsx-82a75d5e4b0ba330">subtree</a> represents a <strong>route segment</strong>. Each route segment is mapped to a corresponding <strong>segment</strong> in a <strong><a href="#terminology" class="jsx-82a75d5e4b0ba330">URL path</a></strong>.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froute-segments.png&amp;w=3840&amp;q=75 1x" src="../_next/route-segmentsa10e.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froute-segments.png&amp;w=3840&amp;q=75" width="3596" height="1512" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">For example, the <code class="jsx-eca01b89ea5fd04 ">/dashboard/settings</code> route is composed of 3 segments:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">The <code class="jsx-eca01b89ea5fd04 ">/</code> root segment</li><li class="jsx-4a968599aec3e5ec">The <code class="jsx-eca01b89ea5fd04 ">dashboard</code> segment</li><li class="jsx-4a968599aec3e5ec">The <code class="jsx-eca01b89ea5fd04 ">settings</code> segment</li></ul><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note</strong>: The name <strong>route segment</strong> was chosen to match the existing terminology around <a href="#terminology" class="jsx-82a75d5e4b0ba330">URL paths</a>.</p></blockquote><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="layouts" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#layouts" class="jsx-b357a4faf5484e2">Layouts</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919"><strong>New file convention:</strong> <code class="jsx-eca01b89ea5fd04 ">layout.js</code></p><p class="jsx-3304e3efe243f919">So far, we have used folders to define the routes of our application. But empty folders do not do anything by themselves. Let&#x27;s discuss how you can define the UI that will render for these routes using new file conventions.</p><p class="jsx-3304e3efe243f919">A <strong>layout</strong> is UI that is shared between route segments in a <a href="#terminology" class="jsx-82a75d5e4b0ba330">subtree</a>. Layouts do not affect <a href="#terminology" class="jsx-82a75d5e4b0ba330">URL paths</a> and do not re-render (React state is preserved) when a user navigates between sibling segments.</p><p class="jsx-3304e3efe243f919">A layout can be defined by default exporting a React component from a <code class="jsx-eca01b89ea5fd04 ">layout.js</code> file. The component should accept a <code class="jsx-eca01b89ea5fd04 ">children</code> prop which will be populated with the segments the layout is wrapping.</p><p class="jsx-3304e3efe243f919">There are 2 types of layouts:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec"><strong>Root layout:</strong> Applies to all routes</li><li class="jsx-4a968599aec3e5ec"><strong>Regular layout:</strong> Applies to specific routes</li></ul><p class="jsx-3304e3efe243f919">You can nest two or more layouts together to form <strong>nested layouts</strong>.</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="root-layout" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#root-layout" class="jsx-b357a4faf5484e2">Root Layout</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">You can create a root layout that will apply to all routes of your application by adding a <code class="jsx-eca01b89ea5fd04 ">layout.js</code> file inside the <code class="jsx-eca01b89ea5fd04 ">app</code> folder.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froot-layout.png&amp;w=3840&amp;q=75 1x" src="../_next/root-layoutbe7f.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froot-layout.png&amp;w=3840&amp;q=75" width="3596" height="1210" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong></p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">The root layout replaces the need for a <a href="https://nextjs.org/docs/advanced-features/custom-app" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">custom App (<code class="jsx-eca01b89ea5fd04 ">_app.js</code>)</a> and <a href="https://nextjs.org/docs/advanced-features/custom-document" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">custom Document (<code class="jsx-eca01b89ea5fd04 ">_document.js</code>)</a> since it applies to all routes.</li><li class="jsx-4a968599aec3e5ec">You&#x27;ll be able to use the root layout to customize the initial document shell (e.g. <code class="jsx-eca01b89ea5fd04 ">&lt;html&gt;</code> and <code class="jsx-eca01b89ea5fd04 ">&lt;body&gt;</code> tags).</li><li class="jsx-4a968599aec3e5ec">You&#x27;ll be able to fetch data inside the root layout (and other layouts).</li></ul></blockquote><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="regular-layouts" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#regular-layouts" class="jsx-b357a4faf5484e2">Regular Layouts</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">You can also create a layout that only applies to a part of your application by adding a <code class="jsx-eca01b89ea5fd04 ">layout.js</code> file inside a specific folder.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fregular-layouts.png&amp;w=3840&amp;q=75 1x" src="../_next/regular-layouts3a0d.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fregular-layouts.png&amp;w=3840&amp;q=75" width="3596" height="1696" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">For example, you can create a <code class="jsx-eca01b89ea5fd04 ">layout.js</code> file inside the <code class="jsx-eca01b89ea5fd04 ">dashboard</code> folder which will only apply to the route segments inside <code class="jsx-eca01b89ea5fd04 ">dashboard</code>.</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="nesting-layouts" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#nesting-layouts" class="jsx-b357a4faf5484e2">Nesting Layouts</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">Layouts are <strong>nested</strong> by default.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fnested-layouts.png&amp;w=3840&amp;q=75 1x" src="../_next/nested-layouts847c.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fnested-layouts.png&amp;w=3840&amp;q=75" width="3596" height="1696" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">For example, if we were to combine the two layouts above. The root layout (<code class="jsx-eca01b89ea5fd04 ">app/layout.js</code>) would be applied to the <code class="jsx-eca01b89ea5fd04 ">dashboard</code> layout, which would also apply to all route segments inside <code class="jsx-eca01b89ea5fd04 ">dashboard/*</code>.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fnested-layouts-example.png&amp;w=3840&amp;q=75 1x" src="../_next/nested-layouts-example7453.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fnested-layouts-example.png&amp;w=3840&amp;q=75" width="3596" height="1668" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="pages" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#pages" class="jsx-b357a4faf5484e2">Pages</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919"><strong>New file convention:</strong> <code class="jsx-eca01b89ea5fd04 ">page.js</code></p><p class="jsx-3304e3efe243f919">A page is UI that is unique to a route segment. You can create a page by adding a <code class="jsx-eca01b89ea5fd04 ">page.js</code> file inside a folder.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fpage.png&amp;w=3840&amp;q=75 1x" src="../_next/pagec04f.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fpage.png&amp;w=3840&amp;q=75" width="3596" height="1696" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">For example, to create pages for the <code class="jsx-eca01b89ea5fd04 ">/dashboard/*</code> routes, you can add a <code class="jsx-eca01b89ea5fd04 ">page.js</code> file inside each folder. When a user visits <code class="jsx-eca01b89ea5fd04 ">/dashboard/settings</code>, Next.js will render the <code class="jsx-eca01b89ea5fd04 ">page.js</code> file for the <code class="jsx-eca01b89ea5fd04 ">settings</code> folder wrapped in any layouts that exist further up the <a href="#terminology" class="jsx-82a75d5e4b0ba330">subtree</a>.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fpage-example.png&amp;w=3840&amp;q=75 1x" src="../_next/page-example22f6.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fpage-example.png&amp;w=3840&amp;q=75" width="3596" height="1668" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">You can create a <code class="jsx-eca01b89ea5fd04 ">page.js</code> file directly inside the dashboard folder to match the <code class="jsx-eca01b89ea5fd04 ">/dashboard</code> route. The dashboard layout will also apply to this page:</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fpage-nested.png&amp;w=3840&amp;q=75 1x" src="../_next/page-nested30ce.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fpage-nested.png&amp;w=3840&amp;q=75" width="3596" height="1858" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">This route is composed of 2 segments:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">The <code class="jsx-eca01b89ea5fd04 ">/</code> root segment</li><li class="jsx-4a968599aec3e5ec">The <code class="jsx-eca01b89ea5fd04 ">dashboard</code> segment</li></ul><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong></p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">For a route to be valid, it needs to have a page in its leaf segment. If it doesn&#x27;t, the route will throw an error.</li></ul></blockquote><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="layout-and-page-behavior" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#layout-and-page-behavior" class="jsx-b357a4faf5484e2">Layout and Page Behavior</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">The file extensions <code class="jsx-eca01b89ea5fd04 ">js|jsx|ts|tsx</code> can be used for Pages and Layouts.</li><li class="jsx-4a968599aec3e5ec">Page Components are the default export of <code class="jsx-eca01b89ea5fd04 ">page.js</code>.</li><li class="jsx-4a968599aec3e5ec">Layout Components are the default export of <code class="jsx-eca01b89ea5fd04 ">layout.js</code>.</li><li class="jsx-4a968599aec3e5ec">Layout Components <strong>must</strong> accept a <code class="jsx-eca01b89ea5fd04 ">children</code> prop.</li></ul><p class="jsx-3304e3efe243f919">When a layout component is rendered, the <code class="jsx-eca01b89ea5fd04 ">children</code> prop will be populated with a child layout (if it exists further down the <a href="#terminology" class="jsx-82a75d5e4b0ba330">subtree</a>) or a page.</p><p class="jsx-3304e3efe243f919">It may be easier to visualize it as a layout <a href="#terminology" class="jsx-82a75d5e4b0ba330">tree</a> where the parent layout will pick the nearest child layout until it reaches a page.</p><p class="jsx-3304e3efe243f919"><strong>Example:</strong></p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fbasic-example.png&amp;w=3840&amp;q=75 1x" src="../_next/basic-exampleea4d.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fbasic-example.png&amp;w=3840&amp;q=75" width="3596" height="1372" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// Root layout (app/layout.js)</span>
<span class="token comment">// - Applies to all routes</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">RootLayout</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Next.js</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Header</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Footer</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Regular layout (app/dashboard/layout.js)</span>
<span class="token comment">// - Applies to route segments in app/dashboard/*</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">DashboardLayout</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DashboardSidebar</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Page Component (app/dashboard/analytics/page.js)</span>
<span class="token comment">// - The UI for the `app/dashboard/analytics` segment</span>
<span class="token comment">// - Matches the `acme.com/dashboard/analytics` URL path</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">AnalyticsPage</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></pre><p class="jsx-3304e3efe243f919">The above combination of layouts and pages would render the following component hierarchy:</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RootLayout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Header</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DashboardLayout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DashboardSidebar</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AnalyticsPage</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">AnalyticsPage</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">DashboardLayout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Footer</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">RootLayout</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></pre><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="react-server-components" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#react-server-components" class="jsx-b357a4faf5484e2">React Server Components</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong> React introduced new component types: Server, Client (traditional React components), and Shared. To learn more about these new types, we recommend reading the React <a href="https://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Server Components RFC</a>.</p></blockquote><p class="jsx-3304e3efe243f919">With this RFC, you can start using React features and incrementally adopt React Server Components into your Next.js application.</p><p class="jsx-3304e3efe243f919">The internals of the new routing system will also leverage recently released React features such as Streaming, Suspense, and Transitions. These are the building blocks for React Server Components.</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="server-components-as-the-default" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#server-components-as-the-default" class="jsx-b357a4faf5484e2">Server Components as the Default</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">One of the biggest changes between the <code class="jsx-eca01b89ea5fd04 ">pages</code> and <code class="jsx-eca01b89ea5fd04 ">app</code> directories is that, by default, <strong>files inside <code class="jsx-eca01b89ea5fd04 ">app</code> will be rendered on the server as React Server Components.</strong></p><p class="jsx-3304e3efe243f919">This will allow you to automatically adopt React Server Components when migrating from <code class="jsx-eca01b89ea5fd04 ">pages</code> to <code class="jsx-eca01b89ea5fd04 ">app</code>.</p><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong>
Server components can be used in the <code class="jsx-eca01b89ea5fd04 ">app</code> folder or your own folders, but cannot be used in the <code class="jsx-eca01b89ea5fd04 ">pages</code> directory for backwards compatibility.</p></blockquote><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="client-and-server-components-convention" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#client-and-server-components-convention" class="jsx-b357a4faf5484e2">Client and Server Components Convention</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">The <code class="jsx-eca01b89ea5fd04 ">app</code> folder will support server, client, and shared components, and you&#x27;ll be able to <a href="#interleaving-client-and-server-components-in-a-route" class="jsx-82a75d5e4b0ba330">interleave these components in a tree</a>.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fserver-components.png&amp;w=3840&amp;q=75 1x" src="../_next/server-componentsa5a2.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fserver-components.png&amp;w=3840&amp;q=75" width="3596" height="1230" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">There is an <a href="https://github.com/reactjs/rfcs/pull/189#issuecomment-1116482278" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">ongoing discussion</a> on what exactly the convention will be for defining Client Components and Server Components. We will follow the resolution of this discussion.</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">For now, Server components can be defined by appending <code class="jsx-eca01b89ea5fd04 ">.server.js</code> to the filename. E.g. <code class="jsx-eca01b89ea5fd04 ">layout.server.js</code></li><li class="jsx-4a968599aec3e5ec">Client components can be defined by appending the <code class="jsx-eca01b89ea5fd04 ">.client.js</code> to the filename. E.g. <code class="jsx-eca01b89ea5fd04 ">page.client.js</code>.</li><li class="jsx-4a968599aec3e5ec"><code class="jsx-eca01b89ea5fd04 ">.js</code> files are considered shared components. Since they could be rendered on the Server and the Client, they need to respect the constraints of each context.</li></ul><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong></p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">Client and Server components have <a href="https://github.com/josephsavona/rfcs/blob/server-components/text/0000-server-components.md#capabilities--constraints-of-server-and-client-components" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">constraints</a> that need to be respected. When deciding to use a client or server component, we recommend using server components (default) until you need to use a client component.</li></ul></blockquote><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="hooks" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#hooks" class="jsx-b357a4faf5484e2">Hooks</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">We&#x27;ll be adding Client and Server component hooks that’ll allow you to access the headers object, cookies, pathnames, search params, etc. In the future, we&#x27;ll have documentation with more information.</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="rendering-environments" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#rendering-environments" class="jsx-b357a4faf5484e2">Rendering Environments</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">You&#x27;ll have granular control of what components will be in the client-side JavaScript bundle using the Client and Server Components convention.</p><p class="jsx-3304e3efe243f919">By default, routes in <code class="jsx-eca01b89ea5fd04 ">app</code> will use Static Generation, and will switch to dynamic rendering when a route segment uses <a href="#hooks" class="jsx-82a75d5e4b0ba330">server-side hooks</a> that require request context.</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="interleaving-client-and-server-components-in-a-route" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#interleaving-client-and-server-components-in-a-route" class="jsx-b357a4faf5484e2">Interleaving Client and Server Components in a Route</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">In React, there&#x27;s a restriction around importing Server Components inside Client Components because Server Components might have server-only code (e.g. database or filesystem utilities).</p><p class="jsx-3304e3efe243f919">For example, importing the Server Component would not work:</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ServerComponent</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;./ServerComponent.js&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ClientComponent</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ServerComponent</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><p class="jsx-3304e3efe243f919">However, a Server Component can be passed as a child of a Client Component. You can do this by <strong>wrapping</strong> them in another Server Component. For example:</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// ClientComponent.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ClientComponent</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Client Component</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ServerComponent.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ServerComponent</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Server Component</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// page.js</span>
<span class="token comment">// It&#x27;s possible to import Client and Server components inside Server Components</span>
<span class="token comment">// because this component is rendered on the server</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ClientComponent</span></span> <span class="token keyword module">from</span> <span class="token string">&quot;./ClientComponent.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">ServerComponent</span></span> <span class="token keyword module">from</span> <span class="token string">&quot;./ServerComponent.js&quot;</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ServerComponentPage</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ClientComponent</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ServerComponent</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ClientComponent</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><p class="jsx-3304e3efe243f919">With this pattern, React will know it needs to render <code class="jsx-eca01b89ea5fd04 ">ServerComponent</code> on the server before sending the result (which doesn&#x27;t contain any server-only code) to the client. From the Client Component&#x27;s perspective, its child will be already rendered.</p><p class="jsx-3304e3efe243f919">In layouts, this pattern is applied with the <code class="jsx-eca01b89ea5fd04 ">children</code> prop so you don&#x27;t have to create an additional wrapper component.</p><p class="jsx-3304e3efe243f919">For example, the <code class="jsx-eca01b89ea5fd04 ">ClientLayout</code> component will accept the <code class="jsx-eca01b89ea5fd04 ">ServerPage</code> component as its child:</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// The Dashboard Layout is a Client Component</span>
<span class="token comment">// app/dashboard/layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ClientLayout</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Can use useState / useEffect here</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Layout</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// The Page is a Server Component that will be passed to Dashboard Layout</span>
<span class="token comment">// app/dashboard/settings/page.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ServerPage</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Page</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong> This style of composition is an important pattern for rendering Server Components inside Client Components. It sets the precedence of one pattern to learn, and is one of the reasons why we&#x27;ve decided to use the <code class="jsx-eca01b89ea5fd04 ">children</code> prop.</p></blockquote><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="data-fetching" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#data-fetching" class="jsx-b357a4faf5484e2">Data fetching</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">It will be possible to fetch data inside multiple segments in a route. This is different from the <code class="jsx-eca01b89ea5fd04 ">pages</code> directory, where data fetching was limited to the page-level.</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="data-fetching-in-layouts" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#data-fetching-in-layouts" class="jsx-b357a4faf5484e2">Data fetching in Layouts</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">You can fetch data in a <code class="jsx-eca01b89ea5fd04 ">layout.js</code> file by using the Next.js data fetching methods <code class="jsx-eca01b89ea5fd04 ">getStaticProps</code> or <code class="jsx-eca01b89ea5fd04 ">getServerSideProps</code>.</p><p class="jsx-3304e3efe243f919">For example, a blog layout could use <code class="jsx-eca01b89ea5fd04 ">getStaticProps</code> to fetch categories from a CMS, which can be used to populate a sidebar component:</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// app/blog/layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> categories <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">getCategoriesFromCMS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> categories <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">BlogLayout</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> categories<span class="token punctuation">,</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">BlogSidebar</span></span> <span class="token attr-name">categories</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>categories<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="multiple-data-fetching-methods-in-a-route" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#multiple-data-fetching-methods-in-a-route" class="jsx-b357a4faf5484e2">Multiple data fetching methods in a route</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">You can also fetch data in multiple segments of a route. For example, a <code class="jsx-eca01b89ea5fd04 ">layout</code> that fetches data can also wrap a <code class="jsx-eca01b89ea5fd04 ">page</code> that fetches its own data.</p><p class="jsx-3304e3efe243f919">Using the blog example above, a single post page can use <code class="jsx-eca01b89ea5fd04 ">getStaticProps</code> and <code class="jsx-eca01b89ea5fd04 ">getStaticPaths</code> to fetch post data from a CMS:</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// app/blog/[slug]/page.js</span>
<span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticPaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">getPostSlugsFromCMS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">paths</span><span class="token operator">:</span> posts<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">slug</span><span class="token operator">:</span> post<span class="token punctuation">.</span><span class="token property-access">slug</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticProps</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">getPostFromCMS</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token property-access">slug</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> post <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">BlogPostPage</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> post <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Post</span></span> <span class="token attr-name">post</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>post<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><p class="jsx-3304e3efe243f919">Since both <code class="jsx-eca01b89ea5fd04 ">app/blog/layout.js</code> and <code class="jsx-eca01b89ea5fd04 ">app/blog/[slug]/page.js</code> use <code class="jsx-eca01b89ea5fd04 ">getStaticProps</code>, Next.js will statically generate the whole <code class="jsx-eca01b89ea5fd04 ">/blog/[slug]</code> route as <strong>React Server Components</strong> at build time - resulting in less client-side JavaScript and faster hydration.</p><p class="jsx-3304e3efe243f919">Statically generated routes improve this further, as the client navigation reuses the cache (Server Components data) and doesn&#x27;t recompute work, leading to less CPU time because you&#x27;re rendering a snapshot of the Server Components.</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="behavior-and-priority" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#behavior-and-priority" class="jsx-b357a4faf5484e2">Behavior and priority</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">Next.js Data Fetching Methods (<code class="jsx-eca01b89ea5fd04 ">getServerSideProps</code> and <code class="jsx-eca01b89ea5fd04 ">getStaticProps</code>) can only be used in Server Components in the <code class="jsx-eca01b89ea5fd04 ">app</code> folder. Different data fetching methods in segments across a single route affect each other.</p><p class="jsx-3304e3efe243f919">Using <code class="jsx-eca01b89ea5fd04 ">getServerSideProps</code> in one segment will affect <code class="jsx-eca01b89ea5fd04 ">getStaticProps</code> in other segments. Since a request already has to go to a server for the <code class="jsx-eca01b89ea5fd04 ">getServerSideProps</code> segment, the server will also render any <code class="jsx-eca01b89ea5fd04 ">getStaticProps</code> segments. It will reuse the props fetched at build time so the data will still be static, the <strong>rendering</strong> happens on-demand on every request with the props generated during <code class="jsx-eca01b89ea5fd04 ">next build</code>.</p><p class="jsx-3304e3efe243f919">Using <code class="jsx-eca01b89ea5fd04 ">getStaticProps</code> with <strong>revalidate (ISR)</strong> in one segment will affect <code class="jsx-eca01b89ea5fd04 ">getStaticProps</code> with <code class="jsx-eca01b89ea5fd04 ">revalidate</code> in other segments. If there are two revalidate periods in one route, the shorter revalidation will take precedence.</p><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong> In the future, this may be optimized to allow for full data fetching granularity in a route.</p></blockquote><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="data-fetching-with-react-server-components" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#data-fetching-with-react-server-components" class="jsx-b357a4faf5484e2">Data fetching with React Server Components</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">The combination of Server-Side Routing, React Server Components, Suspense and Streaming have a few implications for data fetching and rendering in Next.js:</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="parallel-data-fetching" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#parallel-data-fetching" class="jsx-b357a4faf5484e2">Parallel data fetching</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">Next.js will eagerly initiate data fetches in parallel to minimize waterfalls. For example, if data fetching was <strong>sequential</strong>, each nested segment in the route couldn&#x27;t start fetching data until the previous segment was completed. With <strong>parallel</strong> fetching, however, each segment can eagerly start data fetching at the same time.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fparallel.png&amp;w=3840&amp;q=75 1x" src="../_next/parallel8437.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fparallel.png&amp;w=3840&amp;q=75" width="3596" height="1386" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">Since rendering may depend on Context, rendering for each segment will start once its data has been fetched and its parent has finished rendering.</p><p class="jsx-3304e3efe243f919">In the future, with Suspense, rendering could also start immediately - even if the data is not completely loaded. If the data is read before it&#x27;s available, Suspense will be triggered. React will start rendering Server Components optimistically, before the requests have completed, and will slot in the result as the requests resolve.</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="partial-fetching-and-rendering" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#partial-fetching-and-rendering" class="jsx-b357a4faf5484e2">Partial Fetching and Rendering</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">When navigating between sibling route segments, Next.js will only fetch and render from that segment down. It will not need to re-fetch or re-render anything above. This means in a page that shares a layout, the layout will be preserved when a user navigates between sibling pages, and Next.js will only fetch and render from that segment down.</p><p class="jsx-3304e3efe243f919">This is especially useful for React Server Components, as otherwise each navigation would cause the full page to re-render on the server instead of rendering only the changed part of the page on the server. This reduces the amount of data transfered and execution time, leading to improved performance.</p><p class="jsx-3304e3efe243f919">For example, if the user navigates between the <code class="jsx-eca01b89ea5fd04 ">/analytics</code> and the <code class="jsx-eca01b89ea5fd04 ">/settings</code> pages, React will re-render the page segments but preserve the layouts:</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fpartial-example.png&amp;w=3840&amp;q=75 1x" src="../_next/partial-examplec4d6.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fpartial-example.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong> It will be possible to force a re-fetch of data higher up the <a href="#terminology" class="jsx-82a75d5e4b0ba330">tree</a>. We are still discussing the details of how this will look and will update the RFC.</p></blockquote><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="route-groups" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#route-groups" class="jsx-b357a4faf5484e2">Route Groups</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">The hierarchy of the <code class="jsx-eca01b89ea5fd04 ">app</code> folder maps directly to URL paths. But it’s possible to break out of this pattern by creating a route group. Route groups can be used to:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">Organize routes without affecting the URL structure.</li><li class="jsx-4a968599aec3e5ec">Opt a route segment out of a layout.</li><li class="jsx-4a968599aec3e5ec">Create multiple root layouts by splitting the application.</li></ul><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="convention" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#convention" class="jsx-b357a4faf5484e2">Convention</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">A route group can be created by wrapping a folder’s name in parenthesis: <code class="jsx-eca01b89ea5fd04 ">(folderName)</code></p><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong> The naming of route groups are only for organizational purposes since they do not affect the URL path.</p></blockquote><p class="jsx-3304e3efe243f919"><strong>Example: Opting a route out of a layout</strong></p><p class="jsx-3304e3efe243f919">To opt a route out of a layout, create a new route group (e.g. <code class="jsx-eca01b89ea5fd04 ">(shop)</code>) and move the routes that share the same layout into the group (e.g. <code class="jsx-eca01b89ea5fd04 ">account</code> and <code class="jsx-eca01b89ea5fd04 ">cart</code>). The routes outside of the group will not share the layout (e.g. <code class="jsx-eca01b89ea5fd04 ">checkout</code>).</p><p class="jsx-3304e3efe243f919">Before:</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froute-group-opt-out-before.png&amp;w=3840&amp;q=75 1x" src="../_next/route-group-opt-out-beforef195.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froute-group-opt-out-before.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">After:</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froute-group-opt-out-after.png&amp;w=3840&amp;q=75 1x" src="../_next/route-group-opt-out-afterd6e4.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froute-group-opt-out-after.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919"><strong>Example: Organizing routes without affecting the URL path</strong></p><p class="jsx-3304e3efe243f919">Similarly, to organize routes, create a group to keep related routes together. The folders in parenthesis will be omitted from the URL (e.g. <code class="jsx-eca01b89ea5fd04 ">(marketing)</code> or <code class="jsx-eca01b89ea5fd04 ">(shop)</code>).</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froute-group-organisation.png&amp;w=3840&amp;q=75 1x" src="../_next/route-group-organisation57ce.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froute-group-organisation.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919"><strong>Example: Creating multiple root layouts</strong></p><p class="jsx-3304e3efe243f919">To create multiple root layouts, create two or more route groups at the top level of the <code class="jsx-eca01b89ea5fd04 ">app</code> directory. This is useful for partitioning an application into sections that have a completely different UI or experience. The <code class="jsx-eca01b89ea5fd04 ">&lt;html&gt;</code>, <code class="jsx-eca01b89ea5fd04 ">&lt;body&gt;</code> and <code class="jsx-eca01b89ea5fd04 ">&lt;head&gt;</code> tags of each root layout can be customized separately.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froute-group-multiple-root.png&amp;w=3840&amp;q=75 1x" src="../_next/route-group-multiple-rootb5b8.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Froute-group-multiple-root.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="server-centric-routing" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#server-centric-routing" class="jsx-b357a4faf5484e2">Server-Centric Routing</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">Currently, Next.js uses client-side routing. After the initial load and on subsequent navigation, a request is made to the server for the resources of the new page. This includes the <strong>JavaScript for every component</strong> (including components only shown under certain conditions) and their props (JSON data from <code class="jsx-eca01b89ea5fd04 ">getServerSideProps</code> or <code class="jsx-eca01b89ea5fd04 ">getStaticProps</code>). Once both the JavaScript and data are loaded from the server, <strong>React renders the components client-side.</strong></p><p class="jsx-3304e3efe243f919">In this new model, Next.js will use server-centric routing while maintaining client-side transitions. This aligns with Server Components which are evaluated on the server.</p><p class="jsx-3304e3efe243f919">On navigation, data is fetched and React renders the components <strong>server-side</strong>. The output from the server are special instructions (not HTML or JSON) for React on the client to update the DOM. These instructions hold the <strong>result</strong> of the rendered Server Components meaning that no JavaScript for that component has to be loaded in the browser to render the result.</p><p class="jsx-3304e3efe243f919">This is in contrast to the current default of Client components, which the component JavaScript to the browser to be rendered client-side.</p><p class="jsx-3304e3efe243f919">Some benefits of server-centric routing with React Server Components include:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">Routing uses the same request used for Server Components (no additional server requests are made).</li><li class="jsx-4a968599aec3e5ec">Less work is done on the server because navigating between routes only fetches and renders the segments that change.</li><li class="jsx-4a968599aec3e5ec">No additional JavaScript is loaded in the browser when client-side navigating when no new client components are used.</li><li class="jsx-4a968599aec3e5ec">The router leverages a new streaming protocol so that rendering can start before all data is loaded.</li></ul><p class="jsx-3304e3efe243f919">As users navigate around an app, the router will store the result of the React Server Component <em>payload</em> in an in-memory client-side cache. The cache is split by route segments which allows invalidation at any level and ensures consistency across concurrent renders. This means that for certain cases, the cache of a previously fetched segment can be re-used.</p><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note</strong></p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">Static Generation and Server-side caching can be used to optimize data fetching.</li><li class="jsx-4a968599aec3e5ec">The information above describes the behavior of subsequent navigations. The initial load is a different process involving Server Side Rendering to generate HTML.</li><li class="jsx-4a968599aec3e5ec">While client-side routing has worked well for Next.js, it scales poorly when the number of potential routes is large because the client has to download a <strong>route map.</strong></li><li class="jsx-4a968599aec3e5ec">Overall, by using React Server Components, client-side navigation is faster because we load and render less components in the browser.</li></ul></blockquote><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="instant-loading-states" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#instant-loading-states" class="jsx-b357a4faf5484e2">Instant Loading States</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">With server-side routing, navigation happens <strong>after</strong> data fetching and rendering so it’s important to show loading UI while the data is being fetched otherwise the application will seem unresponsive.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fserver-side-routing.png&amp;w=3840&amp;q=75 1x" src="../_next/server-side-routing5e0e.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fserver-side-routing.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">The new router will use <a href="https://reactjs.org/docs/react-api.html#reactsuspense" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Suspense</a> for instant loading states and default skeletons. This means loading UI can be shown immediately while the content for the new segment loads. The new content is then swapped in once rendering on the server is complete.</p><p class="jsx-3304e3efe243f919">While rendering is happening:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">Navigation to the new route will be immediate.</li><li class="jsx-4a968599aec3e5ec">Shared layouts will remain interactive while new route segments load.</li><li class="jsx-4a968599aec3e5ec">Navigation will be interruptible - meaning the user can navigate between routes while the content of one route is loading.</li></ul><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="default-loading-skeletons" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#default-loading-skeletons" class="jsx-b357a4faf5484e2">Default loading skeletons</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">Suspense boundaries will be automatically handled behind-the-scenes with a new file convention called <code class="jsx-eca01b89ea5fd04 ">loading.js</code>.</p><p class="jsx-3304e3efe243f919"><strong>Example:</strong></p><p class="jsx-3304e3efe243f919">You will be able to create a default loading skeleton by adding a <code class="jsx-eca01b89ea5fd04 ">loading.js</code> file inside a folder.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Floading.png&amp;w=3840&amp;q=75 1x" src="../_next/loading371a.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Floading.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">The <code class="jsx-eca01b89ea5fd04 ">loading.js</code> should export a React component:</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// loading.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Loading</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">YourSkeleton</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token punctuation">}</span>

<span class="token comment">// layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Layout</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>children<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Sidebar</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Output</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Sidebar</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Loading</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></pre><p class="jsx-3304e3efe243f919">This will cause all segments in the folder to be wrapped in a suspense boundary. The default skeleton will be used when the layout is first loaded and when navigating between sibling pages.</p><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="error-handling" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#error-handling" class="jsx-b357a4faf5484e2">Error Handling</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919"><a href="https://reactjs.org/docs/error-boundaries.html" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">Error boundaries</a> are React components that catch JavaScript errors anywhere in their child component tree.</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="convention" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#convention" class="jsx-b357a4faf5484e2">Convention</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">You&#x27;ll be able to create an Error Boundary that will catch errors within a subtree by adding a <code class="jsx-eca01b89ea5fd04 ">error.js</code> file and default exporting a React Component.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Ferror.png&amp;w=3840&amp;q=75 1x" src="../_next/errorce03.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Ferror.png&amp;w=3840&amp;q=75" width="3596" height="1230" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">The Component will be shown as a fallback if an error is thrown within that subtree. This component can be used to log errors, display useful information about the error, and functionality to attempt to recover from the error.</p><p class="jsx-3304e3efe243f919">Due to the nested nature of segments and layouts, creating Error boundaries allows you to isolate errors to those parts of the UI. During an error, layouts above the boundary will remain interactive and their state will be preserved.</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// error.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token known-class-name class-name">Error</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> error<span class="token punctuation">,</span> reset <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      An error occurred: </span><span class="token punctuation">{</span>error<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Try again</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Layout</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>children<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Sidebar</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Output</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Sidebar</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorBoundary</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Error</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ErrorBoundary</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></pre><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919">Note:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">Errors inside a <code class="jsx-eca01b89ea5fd04 ">layout.js</code> file in the same segment as an <code class="jsx-eca01b89ea5fd04 ">error.js</code> will not be caught as the automatic error boundary wraps the children of a layout and not the layout itself.</li></ul></blockquote><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="templates" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#templates" class="jsx-b357a4faf5484e2">Templates</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">Templates are similar to Layouts in that they wrap each child Layout or Page.</p><p class="jsx-3304e3efe243f919">Unlike Layouts that persist across routes and maintain state, templates create a new instance for each of their children. This means that when a user navigates between route segments that share a template, a new instance of the component is mounted.</p><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong> We recommend using Layouts unless you have a specific reason to use a Template.</p></blockquote><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="convention" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#convention" class="jsx-b357a4faf5484e2">Convention</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">A template can be defined by exporting a default React component from a <code class="jsx-eca01b89ea5fd04 ">template.js</code> file. The component should accept a <code class="jsx-eca01b89ea5fd04 ">children</code> prop which will be populated with nested segments.</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="example" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#example" class="jsx-b357a4faf5484e2">Example</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Ftemplate.png&amp;w=3840&amp;q=75 1x" src="../_next/template597d.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Ftemplate.png&amp;w=3840&amp;q=75" width="3596" height="1230" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// template.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Template</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Container</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Container</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><p class="jsx-3304e3efe243f919">The rendered output of a route segment with a Layout and a Template will be as such:</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token comment">/* Note that the template is given a unique key. */</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Template</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>routeParam<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Template</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></pre><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="behavior" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#behavior" class="jsx-b357a4faf5484e2">Behavior</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">There may be cases where you need to mount and unmount shared UI, and templates would be a more suitable option. For example:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">Enter/exit animations using CSS or animation libraries</li><li class="jsx-4a968599aec3e5ec">Features that rely on <code class="jsx-eca01b89ea5fd04 ">useEffect</code> (e.g logging page views) and <code class="jsx-eca01b89ea5fd04 ">useState</code> (e.g a per-page feedback form)</li><li class="jsx-4a968599aec3e5ec">To change the default framework behavior. E.g. suspense boundaries inside Layouts only show the fallback the first time the Layout is loaded and not when switching pages. For templates, the fallback is shown on each navigation.</li></ul><p class="jsx-3304e3efe243f919">For example, consider the design of a nested layout with a bordered container that should be wrapped around every sub-page.</p><p class="jsx-3304e3efe243f919">You could put the container inside the parent layout (<code class="jsx-eca01b89ea5fd04 ">shop/layout.js</code>):</p><pre class="language-tsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// shop/layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Layout</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> children <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// shop/page.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Page</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// shop/categories/layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">CategoryLayout</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> children <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><p class="jsx-3304e3efe243f919">But any enter/exit animations wouldn’t play when switching pages because the shared parent layout doesn’t re-render.</p><p class="jsx-3304e3efe243f919">You could put the container in every nested layout or page:</p><pre class="language-tsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// shop/layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Layout</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> children <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// shop/page.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Page</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// shop/categories/layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">CategoryLayout</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> children <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><p class="jsx-3304e3efe243f919">But then you’d have to manually put it in every nested layout or page which can be tedious and error-prone in more complex apps.</p><p class="jsx-3304e3efe243f919">With this convention, you can share templates across routes that create a new instance on navigation. This means DOM elements will be recreated, state will not be preserved, and effects will be re-synchronized.</p><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="advanced-routing-patterns" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#advanced-routing-patterns" class="jsx-b357a4faf5484e2">Advanced Routing Patterns</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">We plan to introduce conventions to cover edge cases and allow you to implement more advanced routing patterns. Below are some examples we have been actively thinking about:</p><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="intercepting-routes" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#intercepting-routes" class="jsx-b357a4faf5484e2">Intercepting Routes</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">Sometimes, it may be useful to intercept route segments from within other routes. On navigation, the URL will be updated as normal, but the intercepted segment will be shown within the current route’s layout.</p><div><h4 class="jsx-89f3568f1269de8b lean " data-components-heading="true"><span id="example" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#example" class="jsx-b357a4faf5484e2">Example</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h4></div><p class="jsx-3304e3efe243f919"><strong>Before:</strong> Clicking the image leads to a new route with its own layout.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fintercepted-routes-before.png&amp;w=3840&amp;q=75 1x" src="../_next/intercepted-routes-before5ffb.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fintercepted-routes-before.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919"><strong>After:</strong> By intercepting the route, clicking the image now loads the segment within the current route’s layout. E.g. as a modal.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fintercepted-routes-after.png&amp;w=3840&amp;q=75 1x" src="../_next/intercepted-routes-after78ae.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fintercepted-routes-after.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">To intercept the <code class="jsx-eca01b89ea5fd04 ">/photo/[id]</code> route from within <code class="jsx-eca01b89ea5fd04 ">/[username]</code> segment, create a duplicate <code class="jsx-eca01b89ea5fd04 ">/photo/[id]</code> folder inside the <code class="jsx-eca01b89ea5fd04 ">/[username]</code> folder, and prefix it with the <code class="jsx-eca01b89ea5fd04 ">(..)</code> convention.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fintercepted-route.png&amp;w=3840&amp;q=75 1x" src="../_next/intercepted-route20af.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fintercepted-route.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><div><h4 class="jsx-89f3568f1269de8b lean " data-components-heading="true"><span id="convention" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#convention" class="jsx-b357a4faf5484e2">Convention</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h4></div><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec"><code class="jsx-eca01b89ea5fd04 ">(..)</code> - will match the route segment one level higher (sibling of the parent directory). Similar to <code class="jsx-eca01b89ea5fd04 ">../</code> in relative paths.</li><li class="jsx-4a968599aec3e5ec"><code class="jsx-eca01b89ea5fd04 ">(..)(..)</code> - will match the route segment two levels higher. Similar to <code class="jsx-eca01b89ea5fd04 ">../../</code> in relative paths.</li><li class="jsx-4a968599aec3e5ec"><code class="jsx-eca01b89ea5fd04 ">(...)</code> - will match the route segment in the root directory.</li></ul><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong> Refreshing or sharing the page would load the route with its default layout.</p></blockquote><h3 class="lean jsx-d4cfbafdc3f90989 fw7" data-components-heading="true"><span id="dynamic-parallel-routes" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#dynamic-parallel-routes" class="jsx-b357a4faf5484e2">Dynamic Parallel Routes</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h3><p class="jsx-3304e3efe243f919">Sometimes it may be useful to show two or more leaf segments (<code class="jsx-eca01b89ea5fd04 ">page.js</code>) in the same view that can be navigated independently.</p><p class="jsx-3304e3efe243f919">Take for instance two or more tab groups within the same dashboard. Navigating one tab group should not affect the other. The combinations of tabs should also be correctly restored when navigating backwards and forwards.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fparallel-routes.png&amp;w=3840&amp;q=75 1x" src="../_next/parallel-routes423a.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fparallel-routes.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><div><h4 class="jsx-89f3568f1269de8b lean " data-components-heading="true"><span id="convention" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#convention" class="jsx-b357a4faf5484e2">Convention</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h4></div><p class="jsx-3304e3efe243f919">By default, layouts accept a prop called <code class="jsx-eca01b89ea5fd04 ">children</code> which will contain a nested layout or a page. You can rename the prop by creating a named “slot” (a folder that includes the <code class="jsx-eca01b89ea5fd04 ">@</code> prefix) and nesting segments inside it.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fparallel-routes-children.png&amp;w=3840&amp;q=75 1x" src="../_next/parallel-routes-childrene3b9.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fparallel-routes-children.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">After this change, the layout will receive a prop called <code class="jsx-eca01b89ea5fd04 ">customProp</code> instead of <code class="jsx-eca01b89ea5fd04 ">children</code>.</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// analytics/layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Layout</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> customProp <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>customProp<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><p class="jsx-3304e3efe243f919">You can create parallel routes by adding more than one named slot at the same level. In the example below, both <code class="jsx-eca01b89ea5fd04 ">@views</code> and <code class="jsx-eca01b89ea5fd04 ">@audience</code> are passed as props to the analytics layout.</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fparallel-routes-complete.png&amp;w=3840&amp;q=75 1x" src="../_next/parallel-routes-complete5521.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fparallel-routes-complete.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">You can use the named slots to display leaf segments simultaneously.</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// analytics/layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Layout</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> views<span class="token punctuation">,</span> audience <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ViewsNav</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>views<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AudienceNav</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>audience<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><p class="jsx-3304e3efe243f919">When the user first navigates to <code class="jsx-eca01b89ea5fd04 ">/analytics</code>, the <code class="jsx-eca01b89ea5fd04 ">page.js</code> segment in each folder (<code class="jsx-eca01b89ea5fd04 ">@views</code> and <code class="jsx-eca01b89ea5fd04 ">@audience</code>) are shown.</p><p class="jsx-3304e3efe243f919">On navigation to <code class="jsx-eca01b89ea5fd04 ">/analytics/subscribers</code>, only <code class="jsx-eca01b89ea5fd04 ">@audience</code> is updated. Similarly, only <code class="jsx-eca01b89ea5fd04 ">@views</code> are updated when navigating to <code class="jsx-eca01b89ea5fd04 ">/analytics/impressions</code>.</p><p class="jsx-3304e3efe243f919">Navigating backwards and forwards will reinstate the correct combination of parallel routes.</p><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="combining-intercepting-and-parallel-routes" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#combining-intercepting-and-parallel-routes" class="jsx-b357a4faf5484e2">Combining Intercepting and Parallel Routes</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">You can combine intercepting and parallel routes to achieve specific routing behaviors in your application.</p><p class="jsx-3304e3efe243f919"><strong>Example</strong></p><p class="jsx-3304e3efe243f919">For example, when creating a modal, you often need to be aware of some common challenges, such as:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">Modals not being accessible through an URL.</li><li class="jsx-4a968599aec3e5ec">Modals closing when the page is refreshed.</li><li class="jsx-4a968599aec3e5ec">Backwards navigation going to the previous route rather than the route behind the modal.</li><li class="jsx-4a968599aec3e5ec">Forwards navigation not reopening the modal.</li></ul><p class="jsx-3304e3efe243f919">You may want the modal to update the URL when it opens, and backwards/fowards navigation to open and close the modal. Additionally, when sharing the URL, you may want the page to load with the modal open and context behind it or you may want the page to load the content without the modal.</p><p class="jsx-3304e3efe243f919">A good example of this are photos on social media sites. Usually, photos are accessible within a modal from the user&#x27;s feed or profile. But when sharing the photo, they shown directly on their own page.</p><p class="jsx-3304e3efe243f919">By using conventions, we can make the modal behavior map to routing behavior by default.</p><p class="jsx-3304e3efe243f919">Consider this folder structure:</p><figure class="image-figure_figure__DUggx" style="margin:40px 0"><img alt="" srcSet="/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fintercepted-route-modal.png&amp;w=3840&amp;q=75 1x" src="../_next/intercepted-route-modal8e2d.png?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fintercepted-route-modal.png&amp;w=3840&amp;q=75" width="3596" height="1880" decoding="async" data-nimg="1" class="image-figure_img__fnPt1 " loading="lazy" style="color:transparent"/></figure><p class="jsx-3304e3efe243f919">With this pattern:</p><ul class="jsx-e5559e759ae9b1d2"><li class="jsx-4a968599aec3e5ec">The content of <code class="jsx-eca01b89ea5fd04 ">/photo/[id]</code> is accessible through an URL within its own context. It&#x27;s also accessible within a modal from within the <code class="jsx-eca01b89ea5fd04 ">/[username]</code> route.</li><li class="jsx-4a968599aec3e5ec">Navigating backwards and forwards using client-side navigation should close and reopen the modal.</li><li class="jsx-4a968599aec3e5ec">Refreshing the page (server-side navigation) should take the user to the original <code class="jsx-eca01b89ea5fd04 ">/photo/id</code> route instead of showing the modal.</li></ul><p class="jsx-3304e3efe243f919">In <code class="jsx-eca01b89ea5fd04 ">/@modal/(..)photo/[id]/page.js</code>, you can return the content of the page wrapped in a modal component.</p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// /@modal/(..)photo/[id]/page.js</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">PhotoPage</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Modal</span></span>
      <span class="token comment">// the modal should always be shown on page load</span>
      <span class="token attr-name">isOpen</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span></span>
      <span class="token comment">// closing the modal should take user back to the previous page</span>
      <span class="token attr-name">onClose</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> router<span class="token punctuation">.</span><span class="token method function property-access">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* Page Content */</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Modal</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><blockquote class="jsx-bf07d7d2d6ef646b "><p class="jsx-3304e3efe243f919"><strong>Note:</strong> This solution isn&#x27;t the only way to create a modal in Next.js, but aims to show how you can combine conventions to achieve more complex routing behavior.</p></blockquote><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="conditional-routes" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#conditional-routes" class="jsx-b357a4faf5484e2">Conditional Routes</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">Sometimes, you may need dynamic information like data or context to determine what route to show. You can use parallel routes to conditionally load one route or another.</p><p class="jsx-3304e3efe243f919"><strong>Example</strong></p><pre class="language-jsx"><pre class="jsx-dfa1f33e090e0436 "><code class="jsx-dfa1f33e090e0436"><span class="token comment">// layout.js</span>
<span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getServerSideProps</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> accountType <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">fetchAccount</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token property-access">slug</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">isUser</span><span class="token operator">:</span> accountType <span class="token operator">===</span> <span class="token string">&#x27;user&#x27;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">UserOrTeamLayout</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isUser<span class="token punctuation">,</span> user<span class="token punctuation">,</span> team <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>isUser <span class="token operator">?</span> user <span class="token operator">:</span> team<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></pre><p class="jsx-3304e3efe243f919">In the example above, you can return either the <code class="jsx-eca01b89ea5fd04 ">user</code> or <code class="jsx-eca01b89ea5fd04 ">team</code> route depending on the slug. This allows you to conditionally load the data and match the sub-routes against one option or the other.</p><h2 class="lean jsx-40c4e60c5843ba9c fw7" data-components-heading="true"><span id="conclusion" class="jsx-b357a4faf5484e2 target docs-anchor-target"></span><a href="#conclusion" class="jsx-b357a4faf5484e2">Conclusion</a><span class="jsx-b357a4faf5484e2 permalink"><span><svg height="16" viewBox="0 0 16 16" width="16"><g fill="#000000" stroke="#000000" stroke-width="1"><path d="M8.995,7.005 L8.995,7.005c1.374,1.374,1.374,3.601,0,4.975l-1.99,1.99c-1.374,1.374-3.601,1.374-4.975,0l0,0c-1.374-1.374-1.374-3.601,0-4.975 l1.748-1.698" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path><path d="M7.005,8.995 L7.005,8.995c-1.374-1.374-1.374-3.601,0-4.975l1.99-1.99c1.374-1.374,3.601-1.374,4.975,0l0,0c1.374,1.374,1.374,3.601,0,4.975 l-1.748,1.698" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"></path></g></svg></span></span></h2><p class="jsx-3304e3efe243f919">We&#x27;re excited about the future of layouts, routing, and React 18 in Next.js. Implementation work has begun and we&#x27;ll announce the features once they are available.</p><p class="jsx-3304e3efe243f919">Leave comments and <a href="https://github.com/vercel/next.js/discussions/37136" rel="noopener noreferrer" target="_blank" class="jsx-e1a61cccdd3dcd9d">join the conversation on GitHub Discussions</a>.</p></div></main><div class="jsx-a4910c57dcd2e1d9 back-button"><a href="../blog" class="jsx-71f61fd80a7be62a btn fw4 no-drag invert">← Back to Blog</a></div><hr style="border:0;border-top:1px solid #eaeaea;margin:50px 0"/><div class="jsx-4ecab5f1b4f64ae3 feedback"><form title="Share any feedback about our products and services" class="jsx-4ecab5f1b4f64ae3 geist-feedback-input"><p class="jsx-4ecab5f1b4f64ae3 helpful">Was this helpful?</p><span class="jsx-4ecab5f1b4f64ae3 emojis"><div class="jsx-30dec14f463f5da7 geist-emoji-selector shown"><button type="button" class="jsx-30dec14f463f5da7 option"><span class="jsx-30dec14f463f5da7 inner"><img alt="useless" class="emoji" decoding="async" height="24" loading="lazy" src="https://assets.vercel.com/twemoji/1f62d.svg" style="transform:none" width="24"/></span></button><button type="button" class="jsx-30dec14f463f5da7 option"><span class="jsx-30dec14f463f5da7 inner"><img alt="no" class="emoji" decoding="async" height="24" loading="lazy" src="https://assets.vercel.com/twemoji/1f615.svg" style="transform:translateY(0.5px)" width="24"/></span></button><button type="button" class="jsx-30dec14f463f5da7 option"><span class="jsx-30dec14f463f5da7 inner"><img alt="yes" class="emoji" decoding="async" height="24" loading="lazy" src="https://assets.vercel.com/twemoji/1f600.svg" style="transform:translateY(0.5px)" width="24"/></span></button><button type="button" class="jsx-30dec14f463f5da7 option"><span class="jsx-30dec14f463f5da7 inner"><img alt="amazing" class="emoji" decoding="async" height="22" loading="lazy" src="https://assets.vercel.com/twemoji/1f929.svg" style="transform:none" width="22"/></span></button></div></span><div class="jsx-4ecab5f1b4f64ae3 textarea-wrapper"><div class="jsx-4ecab5f1b4f64ae3 input"><label for="footer-feedback-form-email" class="jsx-4ecab5f1b4f64ae3">Email</label><div aria-label="Your email address" name="email" class="jsx-272385440 wrapper"><div class="jsx-272385440 input-wrapper"><input autoCapitalize="off" autoComplete="off" autoCorrect="off" id="footer-feedback-form-email" placeholder="Your email address..." spellcheck="false" title="Your email address..." type="email" class="jsx-272385440"/></div></div></div><div class="jsx-4ecab5f1b4f64ae3 input"><label for="footer-feedback-form-feedback" class="jsx-4ecab5f1b4f64ae3">Feedback</label><div class="jsx-2969556552 wrapper"><textarea aria-label="Feedback input" id="footer-feedback-form-feedback" autoCapitalize="off" autoComplete="off" autoCorrect="off" placeholder="Your feedback..." type="text" class="jsx-2969556552 "></textarea></div></div><div class="jsx-4ecab5f1b4f64ae3 controls"><span class="jsx-4ecab5f1b4f64ae3 buttons "><button type="submit" class="jsx-71f61fd80a7be62a btn fw4 no-drag invert small"><span class="jsx-71f61fd80a7be62a text">Send</span></button></span></div></div></form></div></div></div><div class="jsx-2311104440 "><div class="jsx-923002 "><footer class="footer_footer__OT4Wn"><div class="f5 footer_grid__J2IkF"><div><h4 class="fw5">General resources</h4><p><a href="../docs/getting-started.html">Docs</a></p><p><a href="https://nextjs.org/learn/foundations/about-nextjs">Learn</a></p><p><a href="https://nextjs.org/showcase">Showcase</a></p><p><a href="https://nextjs.org/blog">Blog</a></p><p><a href="https://nextjs.org/analytics">Analytics</a></p><p><a href="https://nextjs.org/conf">Next.js Conf</a></p></div><div><h4 class="fw5">More</h4><p><a href="https://nextjs.org/commerce">Commerce</a></p><p><a href="https://vercel.com/contact/sales?utm_source=next-site&amp;utm_medium=footer&amp;utm_campaign=next-website" rel="noopener noreferrer" target="_blank">Contact Sales</a></p><p><a href="https://github.com/vercel/next.js" rel="noopener noreferrer" target="_blank">GitHub</a></p><p><a href="https://github.com/vercel/next.js/releases" rel="noopener noreferrer" target="_blank">Releases</a></p><p><a href="https://nextjs.org/telemetry">Telemetry</a></p></div><div><h4 class="fw5">About <!-- -->Vercel</h4><p><a href="https://vercel.com/solutions/nextjs?utm_source=next-site&amp;utm_medium=footer&amp;utm_campaign=nextjs-vercel" rel="noopener noreferrer" target="_blank">Next.js + Vercel</a></p><p><a href="https://vercel.com/oss?utm_source=next-site&amp;utm_medium=footer&amp;utm_campaign=next-website" rel="noopener noreferrer" target="_blank">Open Source Software</a></p><p><a href="https://github.com/vercel" rel="noopener noreferrer" target="_blank">GitHub</a></p><p><a href="https://twitter.com/vercel" rel="noopener noreferrer" target="_blank">Twitter</a></p></div><div><h4 class="fw5">Legal</h4><p><a href="https://vercel.com/legal/privacy-policy" rel="noopener noreferrer" target="_blank">Privacy Policy</a></p></div></div><div class="f6 footer_copyright__heq_T"><a aria-label="Vercel" href="https://vercel.com/home?utm_source=next-site&amp;utm_medium=footer&amp;utm_campaign=next-website" rel="noopener noreferrer" target="_blank" title="Go to the Vercel website"><svg fill="none" height="20" viewBox="0 0 283 64" xmlns="http://www.w3.org/2000/svg"><path d="M141.04 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.46 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM248.72 16c-11.04 0-19 7.2-19 18s8.96 18 20 18c6.67 0 12.55-2.64 16.19-7.09l-7.65-4.42c-2.02 2.21-5.09 3.5-8.54 3.5-4.79 0-8.86-2.5-10.37-6.5h28.02c.22-1.12.35-2.28.35-3.5 0-10.79-7.96-17.99-19-17.99zm-9.45 14.5c1.25-3.99 4.67-6.5 9.45-6.5 4.79 0 8.21 2.51 9.45 6.5h-18.9zM200.24 34c0 6 3.92 10 10 10 4.12 0 7.21-1.87 8.8-4.92l7.68 4.43c-3.18 5.3-9.14 8.49-16.48 8.49-11.05 0-19-7.2-19-18s7.96-18 19-18c7.34 0 13.29 3.19 16.48 8.49l-7.68 4.43c-1.59-3.05-4.68-4.92-8.8-4.92-6.07 0-10 4-10 10zm82.48-29v46h-9V5h9zM36.95 0L73.9 64H0L36.95 0zm92.38 5l-27.71 48L73.91 5H84.3l17.32 30 17.32-30h10.39zm58.91 12v9.69c-1-.29-2.06-.49-3.2-.49-5.81 0-10 4-10 10V51h-9V17h9v9.2c0-5.08 5.91-9.2 13.2-9.2z" fill="#000"></path></svg></a><div>Copyright © <!-- -->2023<!-- --> <!-- -->Vercel<!-- -->, Inc. All rights reserved.</div></div></footer></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/layouts-rfc","query":{},"buildId":"ZvwCelwX7zUhFIgbFwG9t","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-117491914-2"></script><script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());
                    gtag('config', 'UA-117491914-2');
                  </script></body>
<!-- Mirrored from beta.nextjs.org/blog/layouts-rfc by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 02 Mar 2023 18:27:02 GMT -->
</html>